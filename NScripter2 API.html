<html>
<head>
<title>NScripter2 API ver0.01</title>
<style type="text/css">
body {font-family: "Consolas","微软雅黑";background-color:#FDFDFD}
/* 超链接样式 */
a:link {color:#777;text-decoration:none;}		
a:visited {color:#777;text-decoration:none;}	
a:hover {color:#000;text-decoration:underline;}	
a:active {color:#000;text-decoration:underline;}
p {margin-top:3px; margin-bottom:3px; padding-left:5px}
/*.arg {background-color:#CCC;}*/
/*.example {font-weight:bold;}*/
/*.examplecode {background-color:#111;} */
.color {color:#F0A}
.description {}
.function {margin:10px; font-size:14px; background-color:#EEE;}
/* 函数列表项 */
.functionList {background-color:#EE9;font-size:14px;font-weight:bold}
.functionName {font-size: 16px; font-weight:bolder; background-color:#CCC;}
/* 函数保留字 */
.functionWord {font-weight:bold; color:#F90}
/* 文本 */
.intro {margin:10px; background-color:#DED; font-size:14px}
.label {color:#A00}
.reverseWord {color:#999;font-weight:bold}
.text {color:#0A0}
.textctrl {color:#F00}
.number {color:#188; font-weight:bold}
.var {font-weight:bold;color:#00E}

</style>
</head>
<body>
<div id="functionList">
<h5>函数列表</h5>
	<p class="functionList"><a href="#BGMFADEOUT" title="" >BGMFADEOUT</a></p>
	<p class="functionList"><a href="#BGMPLAY" title="" >BGMPLAY</a></p>
	<p class="functionList"><a href="#BGMPLAYONCE" title="" >BGMPLAYONCE</a></p>
	<p class="functionList"><a href="#BGMSTOP" title="" >BGMSTOP</a></p>
	<p class="functionList"><a href="#BGMVOLUME" title="" >BGMVOLUME</a></p>
	<p class="functionList"><a href="#BGVFADEOUT" title="" >BGVFADEOUT</a></p>
	<p class="functionList"><a href="#BGVPLAY" title="" >BGVPLAY</a></p>
	<p class="functionList"><a href="#BGVVOLUME" title="" >BGVVOLUME</a></p>
	<p class="functionList"><a href="#BTN" title="" >BTN</a></p>
	<p class="functionList"><a href="#BTNCLEAR" title="" >BTNCLEAR</a></p>
	<p class="functionList"><a href="#BTNEXEC" title="" >BTNEXEC</a></p>
	<p class="functionList"><a href="#CLICK" title="" >CLICK</a></p>
	<p class="functionList"><a href="#ERROR" title="" >ERROR</a></p>
	<p class="functionList"><a href="#FDELETE" title="" >FDELETE</a></p>
	<p class="functionList"><a href="#FONT" title="" >FONT</a></p>
	<p class="functionList"><a href="#GETBGMVOLUME" title="" >GETBGMVOLUME</a></p>
	<p class="functionList"><a href="#GETBGVVOLUME" title="" >GETBGVVOLUME</a></p>
	<p class="functionList"><a href="#GETSEVOLUME" title="" >GETSEVOLUME</a></p>
	<p class="functionList"><a href="#GETSPCELL" title="" >GETSPCELL</a></p>
	<p class="functionList"><a href="#GETSPINFO" title="" >GETSPINFO</a></p>
	<p class="functionList"><a href="#GETVOICEVOLUME" title="" >GETVOICEVOLUME</a></p>
	<p class="functionList"><a href="#LOAD" title="" >LOAD</a></p>
	<p class="functionList"><a href="#LRCLICK" title="" >LRCLICK</a></p>
	<p class="functionList"><a href="#MOVIE" title="" >MOVIE</a></p>
	<p class="functionList"><a href="#MRESET" title="" >MRESET</a></p>
	<p class="functionList"><a href="#MWRITE" title="" >MWRITE</a></p>
	<p class="functionList"><a href="#MWRITEBEGIN" title="" >MWRITEBEGIN</a></p>
	<p class="functionList"><a href="#MWRITEEND" title="" >MWRITEEND</a></p>
	<p class="functionList"><a href="#PRINT" title="" ></a></p>
	<p class="functionList"><a href="#QUAKE" title="" >QUAKE</a></p>
	<p class="functionList"><a href="#QUIT" title="" >QUIT</a></p>
	<p class="functionList"><a href="#SAVE" title="" ></a></p>
	<p class="functionList"><a href="#SECHVOLUME" title="" >SECHVOLUME</a></p>
	<p class="functionList"><a href="#SEFADEOUT" title="" >SEFADEOUT</a></p>
	<p class="functionList"><a href="#SELECT" title="" >SELECT</a></p>
	<p class="functionList"><a href="#SELOOP" title="" >SELOOP</a></p>
	<p class="functionList"><a href="#SEPLAY" title="" >SEPLAY</a></p>
	<p class="functionList"><a href="#SESTOP" title="" >SESTOP</a></p>
	<p class="functionList"><a href="#SESTOPALL" title="" >SESTOPALL</a></p>
	<p class="functionList"><a href="#SEVOLUME" title="" >SEVOLUME</a></p>
	<p class="functionList"><a href="#SP" title="" >SP</a></p>
	<p class="functionList"><a href="#SPANIMATIONRESET" title="" >SPANIMATIONRESET</a></p>
	<p class="functionList"><a href="#SPBEZIER" title="" >SPBEZIER</a></p>
	<p class="functionList"><a href="#SPCELL" title="" >SPCELL</a></p>
	<p class="functionList"><a href="#SPDELETE" title="" >SPDELETE</a></p>
	<p class="functionList"><a href="#SPDELETES" title="" >SPDELETES</a></p>
	<p class="functionList"><a href="#SPFILL" title="" >SPFILL</a></p>
	<p class="functionList"><a href="#SPFORMAT" title="" >SPFORMAT</a></p>
	<p class="functionList"><a href="#SPHITCHECK" title="" >SPHITCHECK</a></p>
	<p class="functionList"><a href="#SPMOVE" title="" >SPMOVE</a></p>
	<p class="functionList"><a href="#SPMOVELT" title="" >SPMOVELT</a></p>
	<p class="functionList"><a href="#SPPUTTEXT" title="" >SPPUTTEXT</a></p>
	<p class="functionList"><a href="#SPSET" title="" >SPSET</a></p>
	<p class="functionList"><a href="#SPSETCLEAR" title="" >SPSETCLEAR</a></p>
	<p class="functionList"><a href="#SPSETDELETE" title="" >SPSETDELETE</a></p>
	<p class="functionList"><a href="#SPSETVISIBLE" title="" >SPSETVISIBLE</a></p>
	<p class="functionList"><a href="#SPSETZ" title="" >SPSETZ</a></p>
	<p class="functionList"><a href="#SPVISIBLE" title="" >SPVISIBLE</a></p>
	<p class="functionList"><a href="#SPZ" title="" >SPZ</a></p>
	<p class="functionList"><a href="#VOICEPLAY" title="" >VOICEPLAY</a></p>
	<p class="functionList"><a href="#VOICEFADEOUT" title="" >VOICEFADEOUT</a></p>
	<p class="functionList"><a href="#VOICEVOLUME" title="" >VOICEVOLUME</a></p>
	<p class="functionList"><a href="#" title="" ></a></p>
	<p class="functionList"><a href="#" title="" ></a></p>
	<p class="functionList"><a href="#" title="" ></a></p>
	<p class="functionList"><a href="#" title="" ></a></p>
	<p class="functionList"><a href="#" title="" ></a></p>
	<p class="functionList"><a href="#" title="" ></a></p>
	<p class="functionList"><a href="#" title="" ></a></p>
	<p class="functionList"><a href="#" title="" ></a></p>
	<p class="functionList"><a href="#" title="" ></a></p>
	<p class="functionList"><a href="#" title="" ></a></p>
	<p class="functionList"><a href="#" title="" ></a></p>
	<p class="functionList"><a href="#" title="" ></a></p>
	<p class="functionList"><a href="#" title="" ></a></p>
	<p class="functionList"><a href="#" title="" ></a></p>
	<p class="functionList"><a href="#" title="" ></a></p>
	<p class="functionList"><a href="#" title="" ></a></p>
	<p class="functionList"><a href="#" title="" ></a></p>
	<p class="functionList"><a href="#" title="" ></a></p>
	<p class="functionList"><a href="#" title="" ></a></p>
	<p class="functionList"><a href="#" title="" ></a></p>
	<p class="functionList"><a href="#" title="" ></a></p>
	<p class="functionList"><a href="#" title="" ></a></p>
	<p class="functionList"><a href="#" title="" ></a></p>
</div>

<div id="functionContent">
<h5>API函数</h5>
<h5>错误显示功能</h5>
<div class="function" id="ERROR">
	<p class="functionName">ERROR</p>
	<p class="arg"><b>参数：</b>ERROR <span class="text">str</span></p>
	<p class="example"><b>例：</b></p>
	<div class="examplecode"><p><span class="functionWord">ERROR</span> <span class="text">"文件不存在"</span></p></div>
	<p class="func"><b>功能：</b></p>
	<div class="description"><p>显示错误信息并退出。</p></div>
</div>
<h5>选择支功能</h5>
<div class="function" id="SELECT">
	<p class="functionName">SELECT</p>
	<p class="arg"><b>参数：</b>SELECT <span class="text">text1</span>,<span class="label">lb1</span>,<span class="text">text2</span>,<span class="label">lb2</span>,...</p>
	<p class="example"><b>例：</b></p>
	<div class="examplecode">
		<p><span class="functionWord">SELECT</span> <span class="text">"选项1"</span>,<span class="label">@lb1</span>,<span class="text">"选项2"</span>,<span class="label">@lb2</span></p>
	</div>
<p class="func"><b>功能：</b></p>
<div class="description"><p>选择支命令。会调用基本的<span class="label">@selectb</span>标签。</p></div>
</div>
<h5>精灵功能</h5>
<div class="intro">
	<p>制作ADV游戏的时候主要使用的就是精灵功能。</p>
	<p>贴图命令和绘图命令在内部使用的时候，是不能同时执行的。</p>
	<p>此外，无论立绘，背景，日期还是对话文字，文字窗口等等，都是“精灵”。</p>
	<p>并没有打算将他们写成固定的命令，而是由基本的功能组合起来的（请参考例子程序）。</p>
	<p>至于为什么要这么做，是因为对于不同的游戏来说，每一个大功能实现方式和功能差别太多。</p>
	<br />
	<p>而且，精灵的显示状态更改之后并不会马上反映到屏幕上。</p>
	<p>需要用PRINT命令指定显示效果，才能显示出来。</p>
	<p>这个显示模式和旧Nscripter是一样的。</p>
	<br />
	<p>精灵的名称定义如下</p>
	<p>"setname:spname"</p>
	<p>setname为精灵组（sprite set）的名称，spname为精灵的名称</p>
	<p>精灵组（sprite set）好比一个文件夹，精灵就像文件一样放在里面。</p>
	<p>精灵组是在对按钮处理时的操作对象，其Z值用于在显示与隐藏之间切换。</p>
	<p>省略精灵组名称的时候，精灵组的名称为""，此精灵组的Z值默认为10000.</p>
</div>
<div class="function" id="SPSET">
	<p class="functionName">SPSET</p>
	<p class="arg"><b>参数：</b><span>SPSET <span class="text">name</span>,<span class="number">z</span></span></p>
	<p class="example"><b>例：</b></p>
	<div class="examplecode"><p><span class="functionWord">SPSET</span> <span class="text">"setname"</span>,<span class="number">10</span></p></div>
	<p class="func"><b>功能：</b></p>
	<div class="description">
		<p>生成一个空的精灵组。有同名的精灵组存在的时候不会生成。</p>
		<p>请注意：Z值为精灵组的Z值。精灵的Z值需要另外指定。</p>
		<p>精灵首先会根据精灵组的Z值排序，再在精灵组中根据每个的Z值排序。</p>
	</div>
</div>
<div class="function" id="SPSETVISIBLE">
	<p class="functionName">SPSETVISIBLE</p>
	<p class="arg"><b>参数：</b>SPSETVISIBLE <span class="text">name</span>,<span title="1或0">v</span></p>
	<p class="example"><b>例：</b></p>
	<div class="examplecode"><p><span class="functionWord">SPSET</span> <span class="text">"setname"</span>,<span class="number">1</span></p></div>
	<p class="func"><b>功能：</b></p>
	<div class="description">
		<p>切换精灵组的显示与隐藏。1为显示，0为隐藏。</p>
		<p>即使精灵处于显示状态，如果其所属的精灵组切换为隐藏状态的话精灵也会隐藏。</p>
		<p>精灵处于隐藏状态的话，即使所属的精灵组处于显示状态也不会显示。</p>
	</div>
</div>
<div class="function" id="SPSETCLEAR">
	<p class="functionName">SPSETCLEAR</p>
	<p class="arg"><b>参数：</b>SPSETCLEAR <span class="text">name</span></p>
	<p class="example"><b>例：</b></p>
	<div class="examplecode"><p></p></div>
	<p class="func"><b>功能：</b></p>
	<div class="description">
		<p>删除精灵组里的所有精灵，但保留精灵组。</p>
	</div>
</div>
<div class="function" id="SPSETDELETE">
	<p class="functionName">SPSETDELETE</p>
	<p class="arg"><b>参数：</b>SPSETDELETE <span class="text">name</span></p>
	<p class="example"><b>例：</b></p>
	<div class="examplecode"><p></p></div>
	<p class="func"><b>功能：</b></p>
	<div class="description">
		<p>删除一个精灵组。</p>
	</div>
</div>
<div class="function" id="SPSETZ">
	<p class="functionName">SPSETZ</p>
	<p class="arg"><b>参数：</b>SPSETZ <span class="text">name</span>,<span class="number">z</span></p>
	<p class="example"><b>例：</b></p>
	<div class="examplecode"><p></p></div>
	<p class="func"><b>功能：</b></p>
	<div class="description">
		<p>变更精灵组的Z值。</p>
	</div>
</div>
<div class="function" id="SP">
	<p class="functionName">SP</p>
	<p class="arg"><b>参数：</b>SP <span class="text">name</span><span class="text">opt</span></p>
	<p class="example"><b>例：</b></p>
	<div class="examplecode">
		<p><span class="functionWord">SP</span> <span class="text">"sp1"</span><span class="textctrl">{name="test.png",x=100,y=100,z=100}</span></p>
		<p><span class="functionWord">SP</span> <span class="text">"set:sp2"</span><span class="textctrl">{name={"cell1.png","cell2.png"},x=200,y=200,z=100,cell=0,blend=1}</span> ; 渲染方式（blend）默认为0，可省略，1为叠加渲染</p>
		<p><span class="functionWord">SP</span> <span class="text">"set:sp2"</span><span class="textctrl">{name={"cell1.png","cell2.png"},cx=300,cy=300,xs=1.2,ys=1.2,rot=45,z=100,cell=0}</span> ; 角度以度（deg）为单位，而不是弧度（rad）。</p>
		<p><span class="functionWord">SP</span> <span class="text">"set:sp3"</span><span class="textctrl">{name={"cell1.png","cell2.png","cell3.png"},x=200,y=200,z=100,animtime=100,animtype="normal"}</span></p>
		<p>※参数在不必要的时候可以省略。</p>
		<p>※和NScripter不同的是，多个分格的图像需要分别指定。这个指定不是作用于整个图像的。</p>
		<p>※动画的模式（animation type）如下：</p>
		<p>"normal"或者未指定的""为0→1→2→3→0→1→2→3→0→1...</p>
		<p>"stop"则是0→1→2→3（停止）</p>
		<p>"round"为0→1→2→3→2→1→0→1→2→3→...</p>
		<p>"lua"会调用animfunc预先指定的Lua函数。是为懂Lua的用户准备的。详细请参照basic.sprite_animation_check。</p>
	</div>
	<p class="func"><b>功能：</b></p>
	<div class="description">
		<p>生成精灵。在同名精灵存在的时候删除该精灵。</p>
	</div>
</div>
<div class="function" id="SPDELETE">
	<p class="functionName">SPDELETE</p>
	<p class="arg"><b>参数：</b>SPDELETE <span class="text">name</span></p>
	<p class="example"><b>例：</b></p>
	<div class="examplecode"><p><span class="functionWord">SPDELETE</span> <span class="text">"set:sp1"</span></p></div>
	<p class="func"><b>功能：</b></p>
	<div class="description">
		<p>删除精灵。</p>
	</div>
</div>
<div class="function" id="SPDELETES">
	<p class="functionName">SPDELETES</p>
	<p class="arg"><b>参数：</b>SPDELETES <span class="text">head</span></p>
	<p class="example"><b>例：</b></p>
	<div class="examplecode"><p>SPDELETES <span class="text">"set:btn"</span></p></div>
	<p class="func"><b>功能：</b></p>
	<div class="description">
		<p>删除以该字符串开始的精灵。</p>
		<p>例子的代码中，如果存在"set:btn0""set:btn1"..."set:btn99"等精灵，都会被删除。</p>
		<p>请注意：很容易误删不想删掉的精灵。</p>
	</div>
</div>
<div class="function" id="GETINFO">
	<p class="functionName">GETINFO</p>
	<p class="arg"><b>参数：</b>GETSPINFO <span class="text">name</span>,<span class="var">info</span></p>
	<p class="example"><b>例：</b></p>
	<div class="examplecode"><p><span class="functionWord">GETSPINFO</span> <span class="text">"sp1"</span>,<span class="var">%info</span></p></div>
	<p class="func"><b>功能：</b></p>
	<div class="description">
		<p>获得精灵的信息。例子中获得了“sp1”精灵的信息。</p>
		<p>（常规定义）</p>
		<p>%info.x ; X坐标</p>
		<p>%info.y ; Y坐标</p>
		<p>（旋转放缩定义）</p>
		<p>%info.cx ; CX坐标</p>
		<p>%info.cy ; CY坐标</p>
		<p>%info.xs ; X扩大率</p>
		<p>%info.ys ; Y扩大率</p>
		<p>%info.rot ; 旋转角</p>
		<br />
		<p>%info.z ; Z值</p>
		<p>%info.a ; α值</p>
		<p>%info.cell ; 分格编号</p>
		<p>%info.cellnum ; 分格数</p>
		<p>%info.w ; 宽</p>
		<p>%info.h ; 高</p>
		<br />
		<p>%info.animtype ; 动画的模式（animation type）</p>
		<p>%info.animtime ; 动画时间</p>
	</div>
</div>
<div class="function" id="SPANIMATIONRESET">
	<p class="functionName">SPANIMATIONRESET</p>
	<p class="arg"><b>参数：</b>SPANIMATIONRESET</p>
	<p class="example"><b>例：</b></p>
	<div class="examplecode"><p></p></div>
	<p class="func"><b>功能：</b></p>
	<div class="description">
		<p>重置（reset）所有精灵的动画。</p>
	</div>
</div>
<div class="function" id="SPBEZIER">
	<p class="functionName">SPBEZIER</p>
	<p class="arg"><b>参数：</b>SPBEZIER <span class="text">name</span>,x0,y0,x1,y1,x2,y2,x3,y3,sx0,sy0,sx1,sy1,sx2,sy2,sx3,sy3,sx4,sy4,sx5,sy5,sx6,sy6,sx7,sy7</p>
	<p class="example"><b>例：</b></p>
	<div class="examplecode"><p><span class="functionWord">SPBEZIER</span> <span class="text">"sp"</span>,0,0, 1,0, 1,1, 0,1, 0.2,-0.2, 0.8,-0.2, 1.2,0.2, 1.2,0.8, 0.8,1.2, 0.2,1.2, -0.2,0.8, -0.2,0.2</p></div>
	<p class="func"><b>功能：</b></p>
	<div class="description">
		<p>对精灵进行贝塞尔（Bezier）变换。指定的坐标不存在的话则不会进行变换。</p>
		<p>坐标首先是按顺时针顺序的左上、右上、右下、左下，然后是按上右下左的顺时针顺序的上边左，上边右，右边上，右边下，下边右，下边左，左边下，左边上。坐标值都是按左上0,0，右下1,1来指定的。</p>
	</div>
</div>
<div class="function" id="SPCELL">
	<p class="functionName">SPCELL</p>
	<p class="arg"><b>参数：</b>SPCELL <span class="text">name</span>,<span class="number">cell</span></p>
	<p class="example"><b>例：</b></p>
	<div class="examplecode"><p><span class="functionWord">SPCELL</span> <span class="text">"sp1"</span>,<span class="number">2</span></p></div>
	<p class="func"><b>功能：</b></p>
	<div class="description">
		<p>切换精灵的分格编号。</p>
	</div>
</div>
<div class="function" id="SPFILL">
	<p class="functionName">SPFILL</p>
	<p class="arg"><b>参数：</b>SPFILL <span class="text">name</span>,<span class="number">cell</span>,<span class="color">color</span></p>
	<p class="example"><b>例：</b></p>
	<div class="examplecode"><p><span class="functionWord">SPFILL</span> <span class="text">"sp1"</span>,<span class="number">0</span>,<span class="color">#00000000</span></p></div>
	<p class="func"><b>功能：</b></p>
	<div class="description">
		<p>绘制单色的精灵。对于文字窗口，可以用这个命令涂抹掉绘制之前的文字。</p>
	</div>
</div>
<div class="function" id="SPMOVE">
	<p class="functionName">SPMOVE</p>
	<p class="arg"><b>参数：</b>SPMOVE <span class="text">name</span>,<span class="number">x</span>,<span class="number">y</span>,<span class="number">a</span></p>
	<p class="example"><b>例：</b></p>
	<div class="examplecode"><p><span class="functionWord">SPMOVE</span> <span class="text">"sp1"</span>,<span class="number">100</span>,<span class="number">100</span>,<span class="number">255</span></p></div>
	<p class="func"><b>功能：</b></p>
	<div class="description">
		<p>移动精灵。坐标为精灵左上角的位置。α值省略的时候为255。</p>
	</div>
</div>
<div class="function" id="SPMOVELT">
	<p class="functionName">SPMOVELT</p>
	<p class="arg"><b>参数：</b>SPMOVELT <span class="text">name</span>,<span class="number">cx</span>,<span class="number">cy</span>,<span class="number">xs</span>,<span class="number">ys</span>,<span class="number">rot</span>,<span class="number">a</span></p>
	<p class="example"><b>例：</b></p>
	<div class="examplecode"><p><span class="functionWord">SPMOVELT</span> <span class="text">"sp1"</span>,<span class="number">300</span>,<span class="number">300</span>,<span class="number">1.2</span>,<span class="number">1.2</span>,<span class="number">RAD(45)</span>,<span class="number">255</span></p></div>
	<p class="func"><b>功能：</b></p>
	<div class="description">
		<p>移动精灵，指定的坐标为精灵中心的坐标和旋转放缩值。α省略的时候为255。</p>
		<p>角度的单位为弧度（rad），度（deg）需要使用RAD()进行转换。</p>
	</div>
</div>
<div class="function" id="SPVISIBLE">
	<p class="functionName">SPVISIBLE</p>
	<p class="arg"><b>参数：</b>SPVISIBLE <span class="text">name</span>,<span class="number" title="1或0">v</span></p>
	<p class="example"><b>例：</b></p>
	<div class="examplecode"><p><span class="functionWord">SPVISIBLE</span> <span class="text">"sp1"</span>,<span class="number">0</span></p></div>
	<p class="func"><b>功能：</b></p>
	<div class="description">
		<p>显示/隐藏精灵。1为显示，0为隐藏。</p>
	</div>
</div>
<div class="function" id="SPZ">
	<p class="functionName">SPZ</p>
	<p class="arg"><b>参数：</b>SPZ <span class="text">name</span>,<span class="number">z</span></p>
	<p class="example"><b>例：</b></p>
	<div class="examplecode"><p><span class="functionWord">SPZ</span> <span class="text">"sp1"</span>,<span class="number">3</span></p></div>
	<p class="func"><b>功能：</b></p>
	<div class="description">
		<p>设定精灵的Z值。</p>
	</div>
</div>
<div class="function" id="SPFORMAT">
	<p class="functionName">SPFORMAT</p>
	<p class="arg"><b>参数：</b>SPFORMAT <span class='text'>name</span>,<span class='number'>cell</span>,<span class='text'>str</span>,<span class='textctrl'>opt</span>,<span class='textctrl'>rubyopt</span></p>
	<p class="example"><b>例：</b></p>
	<div class="examplecode"><p><span class='functionWord'>SPFORMAT</span> <span class='text'>"sp1"</span>,<span class='number'>0</span>,<span class='text'>"あいうえおかきくけこ{漢字/ルビ}さしすせそ"</span>,<span class='textctrl'>{font="text",x=2,y=2,w=25,h=4}</span>,<span class='textctrl'>{font="ruby"}</span></p></div>
	<p class="func"><b>功能：</b></p>
	<div class="description">
		<p>在不需要注音（ruby）功能（比如英语文字）的时候可以省略rubyopt参数。</p>
		<p>向精灵中写入字符串。这是一个精灵替换命令，而不是绘制命令。</p>
		<p>在例如回想模式的时候使用此命令写入字符串。文字中的%p等字符会被忽略。</p>
	</div>
</div>

<div class="function" id="SPPUTTEXT">
	<p class="functionName">SPPUTTEXT</p>
	<p class="arg"><b>参数：</b>SPPUTTEXT <span class='text'>name</span>,<span class='number'>cell</span>,<span class='text'>str</span>,<span class='textctrl'>opt</span>,<span class='textctrl'>rubyopt</span></p>
	<p class="example"><b>例：</b></p>
	<div class="examplecode"><p><span class='functionWord'>SPPUTTEXT</span> <span class='text'>"sp1"</span>,<span class='number'>0</span>,<span class='text'>"あいうえおかきくけこ{漢字/ルビ}さしすせそ"</span>,<span class='textctrl'>{font="text",x=2,y=2,w=25,h=4,wait=50}</span>,<span class='textctrl'>{font="ruby"}</span></p></div>
	<p class="func"><b>功能：</b></p>
	<div class="description">
		<p>在不需要注音（ruby）功能（比如英语文字）的时候可以省略rubyopt参数。</p>
		<p>向精灵里写入文字，然后依次显示它们。wait可以调整速度。速度指定为0的时候是立即全部显示。</p>
		<p>文字里出现%p以及到达整段末尾时，会调用基本的@textb来进行文字窗口的界面的处理。</p>
		<p>但是末尾为_的时候不会进行处理。屏幕会保持完毕的样子继续执行下面的命令。</p>
		<p>（此函数和旧Nscripter的linepage函数类似）</p>
	</div>
</div>
<div class="function" id="GETSPCELL">
	<p class="functionName">GETSPCELL</p>
	<p class="arg"><b>参数：</b>GETSPCELL(<span class='text'>name</span>)</p>
	<p class="example"><b>例：</b></p>
	<div class="examplecode"><p><span class='var'>%cell</span>=<span class='functionWord'>GETSPCELL</span>(<span class='text'>"sp1"</span>)</p></div>
	<p class="func"><b>功能：</b></p>
	<div class="description">
		<p>获得指定精灵组的编号。</p>
	</div>
</div>
<div class="function" id="SPHITCHECK">
	<p class="functionName">SPHITCHECK</p>
	<p class="arg"><b>参数：</b>SPHITCHECK(<span class='text'>name</span>,<span class='number'>x</span>,<span class='number'>y</span>)</p>
	<p class="example"><b>例：</b></p>
	<div class="examplecode"><p><span class='reverseWord'>if</span> <span class='functionWord'>SPHITCHECK</span>(<span class='text'>"sp1"</span>,<span class='number'>100</span>,<span class='number'>100</span>)==<span class='number'>1</span> <span class='reverseWord'>then</span> <span class='reverseWord'>goto</span> <span class='label'>@hit</span></p></div>
	<p class="func"><b>功能：</b></p>
	<div class="description">
		<p>判断精灵是否覆盖了指定的坐标，是则返回1，否则返回0。</p>
		<p>现在所有的坐标都是左上坐标的形式。</p>
	</div>
</div>
<h5>高质量绘制命令/等待输入命令</h5>
<div class="function" id="PRINT">
	<p class="functionName">PRINT</p>
	<p class="arg"><b>参数：</b>PRINT <span class='text'>effectsymbol</span>,<span class='number'>time</span>,<span class='text'>param</span></p>
	<p class="example"><b>例：</b></p>
	<div class="examplecode">
		<p><span class='functionWord'>PRINT</span> <span class='text'>#C</span></p>
		<p><span class='functionWord'>PRINT</span> <span class='text'>#RD</span>,<span class='number'>500</span></p>
		<p><span class='functionWord'>PRINT</span> <span class='text'>#SL</span>,<span class='number'>500</span></p>
		<p><span class='functionWord'>PRINT</span> <span class='text'>#F</span>,<span class='number'>500</span></p>
		<p><span class='functionWord'>PRINT</span> <span class='text'>#U</span>,<span class='number'>500</span>,<span class='text'>"rule.png"</span></p>
	</div>
	<p class="func"><b>功能：</b></p>
	<div class="description">
		<p>精灵在改变状态之后，并不会反应在屏幕上。</p>
		<p>而PRINT命令能将改变反映到实际屏幕上。这一点和旧Nscripter是一样的。</p>
		<p>第一个参数用于指定变化的类型。</p>
		<br />
		<p>#C 或者"" 瞬时显示 不指定时间。</p>
		<p>#F 交叉淡入淡出</p>
		<p>#RU #RD #RL #RR 从上下左右方向进入</p>
		<p>#SU #SD #SL #SR 从上下左右方向卷动进入</p>
		<p>#U 全局变换（Universal Transition） 第三个参数为掩模图像（原文为ルール画像）。和旧Nscripter的18号效果是一样的。</p>
	</div>
</div>
<div class="function" id="QUAKE">
	<p class="functionName">QUAKE</p>
	<p class="arg"><b>参数：</b>QUAKE <span class='number'>time</span>,<span class='number'>num</span>,<span class='number'>size</span></p>
	<p class="example"><b>例：</b></p>
	<div class="examplecode"><p></p></div>
	<p class="func"><b>功能：</b></p>
	<div class="description">
		<p>摇晃画面。三个参数依次为持续时间（单位毫秒），摇动次数，摇动幅度（1为画面的1/20）。</p>
		<p>为了不露出画面之后的黑色会对图像进行扩大，摇动幅度越大扩大率就越大。</p>
		<p>对此命令的功能不满的话可以在system.lua的QUAKE命令中编写自己中意的命令。</p>
	</div>
</div>
<div class="function" id="CLICK">
	<p class="functionName">CLICK</p>
	<p class="arg"><b>参数：</b>CLICK</p>
	<p class="example"><b>例：</b></p>
	<div class="examplecode"><p></p></div>
	<p class="func"><b>功能：</b></p>
	<div class="description">
		<p>等待一次鼠标左键点击。精灵动画等并不会暂停。</p>
	</div>
</div>
<div class="function" id="LRCLICK">
	<p class="functionName">LRCLICK</p>
	<p class="arg"><b>参数：</b>LRCLICK <span class='var'>retval</span></p>
	<p class="example"><b>例：</b><span class='functionWord'>LRCLICK</span> <span class='var'>%ret</span></p>
	<div class="examplecode"><p></p></div>
	<p class="func"><b>功能：</b></p>
	<div class="description">
		<p>等待点击，会判断按下的是鼠标左键还是右键。精灵动画等并不会暂停。</p>
		<p>点击左键变量会被赋值#L，单击右键变量会被赋值#R。</p>
		<p>在CG模式里使用很方便。</p>
	</div>
</div>
<h5>按钮功能</h5>
<div class="intro" id="">
	<p>※关于精灵操作字符串</p>
	<p>和旧Nscripter的扩展按钮功能相近的功能。在打算进行默认的按钮变化以外的功能的时候使用。</p>
	<p>"S(test.ogg)" 播放指定的声音。</p>
	<p>"P(spname,N)" 变更指定的精灵的分格编号。N只能使用直接的整数，不能使用变量。</p>
	<p>"C(spname)" 清除指定的精灵。</p>
	<p>"M(spname,x,y)" 移动指定的精灵。</p>
	<p>上面的效果可以组合使用。</p>
</div>
<div class="function" id="BTNCLEAR">
	<p class="functionName">BTNCLEAR</p>
	<p class="arg"><b>参数：</b>BTNCLEAR <span class='text'>setname</span>,<span class='text'>defstr</span></p>
	<p class="example"><b>例：</b></p>
	<div class="examplecode"><p></p></div>
	<p class="func"><b>功能：</b></p>
	<div class="description">
		<p>※setname和defstr在不必要的时候可以省略。</p>
		<p>※setname省略的时候，精灵组的名字相当于""。</p>
		<p>※在指定了defstr的时候不能省略setname。</p>
		<p>清除按钮定义。按钮定义和精灵组是不同的。</p>
		<p>defstr是鼠标和任何按钮都不重叠的时候执行的“精灵操作字符串”。</p>
	</div>
</div>
<div class="function" id="BTN">
	<p class="functionName">BTN</p>
	<p class="arg"><b>参数：</b>BTN <span class='text'>name</span>,<span class='textctrl'>opt</span></p>
	<p class="example"><b>例：</b></p>
	<div class="examplecode">
		<p><span class='functionWord'>BTN</span> <span class='text'>"sp1"</span></p>
		<p><span class='functionWord'>BTN</span> <span class='text'>"sp2"</span>,<span class='textctrl'>{style="push"}</span></p>
		<p><span class='functionWord'>BTN</span> <span class='text'>"sp3"</span>,<span class='textctrl'>{style="toggle"}</span></p>
		<p><span class='functionWord'>BTN</span> <span class='text'>"sp4"</span>,<span class='textctrl'>{on="P(sp1,0)P(sp2,1)"}</span></p>
		<p><span class='functionWord'>BTN</span> <span class='text'>"bar0"</span>,<span class='textctrl'>{style="bar"}</span></p>
	</div>
	<p class="func"><b>功能：</b></p>
	<div class="description">
		<p>将指定的精灵定义为按钮。</p>
		<p>opt为以下指定的值。</p>
		<p>on="精灵操作字符串"</p>
		<p>&nbsp;&nbsp;当鼠标移动到按钮上时执行的处理。</p>
		<p>off="精灵操作字符串"</p>
		<p>&nbsp;&nbsp;当鼠标从按钮上移开时执行的处理。</p>
		<p>style="指定的样式"</p>
		<p>&nbsp;&nbsp;用于指定按钮的样式。省略的话为"push"。以下为可能的种类。</p>
		<p>&nbsp;&nbsp;"push" 以及"" 为push按钮，鼠标重叠切换为分格1，离开为分格0，返回值为精灵名。</p>
		<p>&nbsp;&nbsp;"toggle" toggle按钮，按下的时候由分格0切换到分格1。返回值为"精灵名:0"或者"精灵名:1"。</p>
		<p>&nbsp;&nbsp;"bar" bar 将分格像条一样的使用，点击精灵的某处就会移动条的位置。稍微有一些费解请参考例子的用法。</p>
		<p>align="left"或者align="right"</p>
		<p>&nbsp;&nbsp;bar类型的按钮，规定精灵的那个方向是0。省略的话是默认left。</p>
		<p>noreset=1</p>
		<p>&nbsp;&nbsp;对于push按钮，按下之后会回复到分格0的状态，noreset设置为1的话则不会回复。</p>
	</div>
</div>
<div class="function" id="BTNEXEC">
	<p class="functionName">BTNEXEC</p>
	<p class="arg"><b>参数：</b>BTNEXEC <span class='number'>val</span>,<span class='text'>setname</span>,<span class='textctrl'>opt</span></p>
	<p class="example"><b>例：</b></p>
	<div class="examplecode"><p><span class='functionWord'>BTNEXEC</span> <span class='var'>%ret</span>,<span class='text'>"setname"</span>,<span class='textctrl'>{wheel=1}</span></p></div>
	<p class="func"><b>功能：</b></p>
	<div class="description">
		<p>※setname和opt在不必要的时候都可以省略。</p>
		<p>※省略setname的时候，精灵组默认为""。</p>
		<p>※在指定了opt的时候不能省略setname。</p>
		<br />
		<p>执行按钮处理。返回值为符号或者精灵名，其中精灵名不含其所在的精灵组名。</p>
		<p>也就是说在点击"set:sp"的精灵的时候返回的值为"sp"。因为命令中已经包含了精灵组的名字。</p>
		<br />
		<p>返回值如下：</p>
		<p>push按钮……"精灵名"</p>
		<p>toggle按钮……"精灵名:0"或者"精灵名:1"</p>
		<p>bar……"精灵名:分格编号"</p>
		<p>""……点击按钮之外的地方</p>
		<p>#R……单击右键时</p>
		<br />
		<p>opt为以下指定的值</p>
		<p>wheel=1</p>
		<p>&nbsp;&nbsp;获得滚轮的输入。返回值为#WU（滚轮上滚），#WD滚轮下滚。</p>
		<p>ctrl=1</p>
		<p>&nbsp;&nbsp;获得Ctrl键的输入。返回值为#CTRL。</p>
		<p>spcret=1</p>
		<p>&nbsp;&nbsp;获得Space和Enter键的输入。返回值为" "或者#RETURN。</p>
		<p>automode=1</p>
		<p>&nbsp;&nbsp;执行自动模式。使用语音的时候在语音结束时，未使用语音时在time所规定的时间之后继续执行。</p>
		<p>&nbsp;&nbsp;超时（time out）（或者语音结束）的时候返回#TIMEOUT。</p>
		<p>time=1000</p>
		<p>&nbsp;&nbsp;指定超时的时间。在自动模式之下，未使用语音的时候以及未开启自动模式的时候，超时所需的时间。</p>
		<p>ldown=1</p>
		<p>&nbsp;&nbsp;判断鼠标左键按下。返回值#LD。</p>
		<p>rdown=1</p>
		<p>&nbsp;&nbsp;判断鼠标右键按下。返回值#RD。</p>
		<p>func=1</p>
		<p>&nbsp;&nbsp;获得功能键的输入。返回值为#F1~#F12。</p>
		<p>cursor=1</p>
		<p>&nbsp;&nbsp;获得方向键的输入。返回值为#UP #DOWN #LEFT #RIGHT。</p>
		<p>alphabet=1</p>
		<p>&nbsp;&nbsp;获得字母按键的输入。返回值为#KEY_A~#KEY_Z。</p>
	</div>
</div>
<h5>字体功能</h5>
<div class="function" id="FONT">
	<p class="functionName">FONT</p>
	<p class="arg"><b>参数：</b>FONT <span class='text'>name</span>,<span class='textctrl'>opt</span></p>
	<p class="example"><b>例：</b></p>
	<div class="examplecode"></p>
		<p><span class='functionWord'>FONT</span> <span class='text'>"text1"</span>,<span class='textctrl'>{}</span></p>
		<p><span class='functionWord'>FONT</span> <span class='text'>"text2"</span>,<span class='textctrl'>{name="ＭＳ ゴシック",color=#FFFFFFFF,width=16,height=16}</span></p>
		<p><span class='functionWord'>FONT</span> <span class='text'>"text3"</span>,<span class='textctrl'>{name="ＭＳ ゴシック",style="outline",outlinecolor=#FF000000,color=#FFFFFFFF,width=24,height=24}</span></p>
		<p><span class='functionWord'>FONT</span> <span class='text'>"text4"</span>,<span class='textctrl'>{name="ＭＳ ゴシック",style="shadow",color=#FFFFFFFF,shadowcolor=#FF000000,width=24,height=24}</span></p>
		<p><span class='functionWord'>FONT</span> <span class='text'>"text5"</span>,<span class='textctrl'>{name="ＭＳ ゴシック",style="fancy",outlinecolor=#FF000000,color1=#FFFFEEAA,color2=#FFFFFFFF,shadowcolor=#FF000000,fx=1,fy=1,width=24,height=24}</span></p>
	</div>
	<p class="func"><b>功能：</b></p>
	<div class="description">
		<p>生成特定字体。特定字体不会被保存，所以一定要在脚本初始声明。</p>
	</div>
</div>
<div class="function" id="FDELETE">
	<p class="functionName">FDELETE</p>
	<p class="arg"><b>参数：</b>FDELETE <span class='text'>name</span></p>
	<p class="example"><b>例：</b></p>
	<div class="examplecode"><p><span class='functionWord'>FDELETE</span> <span class='text'>"text1"</span></p></div>
	<p class="func"><b>功能：</b></p>
	<div class="description">
		<p>删除特定字体。</p>
	</div>
</div>
<h5>各种声音功能</h5>
<div class="intro" id="">
	<p>※程序内部使用的是低音质。需要同时也使用低音质的时候，请调用内部相关函数。</p>
</div>
<div class="function" id="BGMPLAY">
	<p class="functionName">BGMPLAY</p>
	<p class="arg"><b>参数：</b>BGMPLAY <span class='text'>name</span></p>
	<p class="example"><b>例：</b></p>
	<div class="examplecode"><p><span class='functionWord'>BGMPLAY</span> <span class='text'>"test.ogg"</span></p></div>
	<p class="func"><b>功能：</b></p>
	<div class="description">
		<p>循环播放BGM。</p>
	</div>
</div>
<div class="function" id="BGMPLAYONCE">
	<p class="functionName">BGMPLAYONCE</p>
	<p class="arg"><b>参数：</b>BGMPLAYONCE <span class='text'>name</span></p>
	<p class="example"><b>例：</b></p>
	<div class="examplecode"><p><span class='functionWord'>BGMPLAYONCE</span> <span class='text'>"test.ogg"</span></p></div>
	<p class="func"><b>功能：</b></p>
	<div class="description">
		<p>播放一遍BGM。</p>
	</div>
</div>
<div class="function" id="BGMSTOP">
	<p class="functionName">BGMSTOP</p>
	<p class="arg"><b>参数：</b>BGMSTOP</p>
	<p class="example"><b>例：</b></p>
	<div class="examplecode"><p><span class='functionWord'>BGMSTOP</span></p></div>
	<p class="func"><b>功能：</b></p>
	<div class="description">
		<p>停止播放BGM。</p>
	</div>
</div>
<div class="function" id="BGMVOLUME">
	<p class="functionName">BGMVOLUME</p>
	<p class="arg"><b>参数：</b>BGMVOLUME <span class='number'>vol</span></p>
	<p class="example"><b>例：</b></p>
	<div class="examplecode"><p><span class='functionWord'>BGMVOLUME</span> <span class='number'>-10000</span></p></div>
	<p class="func"><b>功能：</b></p>
	<div class="description">
		<p>调节BGM的音量。范围为0~-10000，0最大，-10000为静音。</p>
		<p>一般来说-2000左右是差不多能听清的范围。实际情况听起来舒服的范围下需要尝试。</p>
		<p>和音量相关的命令均是这个范围。</p>
	</div>
</div>
<div class="function" id="BGMFADEOUT">
	<p class="functionName">BGMFADEOUT</p>
	<p class="arg"><b>参数：</b>BGMFADEOUT <span class='number'>time</span></p>
	<p class="example"><b>例：</b></p>
	<div class="examplecode"><p><span class='functionWord'>BGMFADEOUT</span> <span class='number'>1000</span></p></div>
	<p class="func"><b>功能：</b></p>
	<div class="description">
		<p>指定BGM停止或者切换的时候淡出的时间。单位为毫秒。</p>
		<p>开始淡出后无法停止执行。</p>
		<p>在切换为其他音乐的时候，会在淡出原曲的同时，平行开始播放新曲。</p>
	</div>
</div>
<div class="function" id="GETBGMVOLUME">
	<p class="functionName">GETBGMVOLUME</p>
	<p class="arg"><b>参数：</b>GETBGMVOLUME()</p>
	<p class="example"><b>例：</b></p>
	<div class="examplecode"><p><span class='var'>bgmvol</span>=<span class='functionWord'>GETBGMVOLUME</span>()</p></div>
	<p class="func"><b>功能：</b></p>
	<div class="description">
		<p>获得现在播放的BGM的音量。</p>
	</div>
</div>
<div class="function" id="BGVPLAY">
	<p class="functionName">BGVPLAY</p>
	<p class="arg"><b>参数：</b>BGVPLAY <span class='number'>ch</span>,<span class='text'>name</span></p>
	<p class="example"><b>例：</b></p>
	<div class="examplecode">
		<p><span class='functionWord'>BGVPLAY</span> <span class='number'>0</span>,<span class='text'>"bgvoice.ogg"</span></p>
		<p><span class='functionWord'>BGVPLAY</span> <span class='number'>0</span>,<span class='text'>""</span></p>
	</div>
	<p class="func"><b>功能：</b></p>
	<div class="description">
		<p>BGV（Back Ground Voice，未播放语音（VOICEPLAY命令）时循环的声音）播放命令。</p>
		<p>ch为0~15，文件名为""的时候停止播放BGV。</p>
	</div>
</div>
<div class="function" id="BGVFADEOUT">
	<p class="functionName">BGVFADEOUT</p>
	<p class="arg"><b>参数：</b>BGVFADEOUT <span class='number'>time</span></p>
	<p class="example"><b>例：</b></p>
	<div class="examplecode"><p><span class='functionWord'>BGVFADEOUT</span> <span class='number'>1000</span></p></div>
	<p class="func"><b>功能：</b></p>
	<div class="description">
		<p>指定BGV淡出的时间（毫秒）。</p>
	</div>
</div>
<div class="function" id="BGVVOLUME">
	<p class="functionName">BGVVOLUME</p>
	<p class="arg"><b>参数：</b>BGVVOLUME <span class='number'>vol</span></p>
	<p class="example"><b>例：</b></p>
	<div class="examplecode"><p></p></div>
	<p class="func"><b>功能：</b></p>
	<div class="description">
		<p>指定BGV的音量。</p>
	</div>
</div>
<div class="function" id="GETBGVVOLUME">
	<p class="functionName">GETBGVVOLUME</p>
	<p class="arg"><b>参数：</b>GETBGVVOLUME()</p>
	<p class="example"><b>例：</b></p>
	<div class="examplecode"><p><span class='var'>bgvvol</span>=<span class='functionWord'>GETBGVVOLUME<span class='reverseWord'>()</p></div>
	<p class="func"><b>功能：</b></p>
	<div class="description">
		<p>获得当前BGV的音量。</p>
	</div>
</div>
<div class="function" id="SEPLAY">
	<p class="functionName">SEPLAY</p>
	<p class="arg"><b>参数：</b>SEPLAY <span class='number'>ch</span>,<span class='text'>name</span></p>
	<p class="example"><b>例：</b></p>
	<div class="examplecode"><p><span class='functionWord'>SEPLAY</span> <span class='number'>0</span>,<span class='text'>"test.ogg"</span></p></div>
	<p class="func"><b>功能：</b></p>
	<div class="description">
		<p>播放SE，ch为通道0~15。</p>
	</div>
</div>
<div class="function" id="SELOOP">
	<p class="functionName">SELOOP</p>
	<p class="arg"><b>参数：</b>SELOOP <span class='number'>ch</span>,<span class='text'>name</span></p>
	<p class="example"><b>例：</b></p>
	<div class="examplecode"><p><span class='functionWord'>SELOOP</span> <span class='number'>1</span>,<span class='text'>"loopse.ogg"</span></p></div>
	<p class="func"><b>功能：</b></p>
	<div class="description">
		<p>循环播放SE。</p>
	</div>
</div>
<div class="function" id="SESTOP">
	<p class="functionName">SESTOP</p>
	<p class="arg"><b>参数：</b>SESTOP <span class='number'>ch</span></p>
	<p class="example"><b>例：</b></p>
	<div class="examplecode"><p><span class='functionWord'>SESTOP</span> <span class='number'>1</span></p></div>
	<p class="func"><b>功能：</b></p>
	<div class="description">
		<p>停止SE。</p>
	</div>
</div>
<div class="function" id="SESTOPALL">
	<p class="functionName">SESTOPALL</p>
	<p class="arg"><b>参数：</b>SESTOPALL</p>
	<p class="example"><b>例：</b></p>
	<div class="examplecode"><p><span class='functionWord'>SESTOPALL</span></p></div>
	<p class="func"><b>功能：</b></p>
	<div class="description">
		<p>停止所有的SE。</p>
	</div>
</div>
<div class="function" id="SEVOLUME">
	<p class="functionName">SEVOLUME</p>
	<p class="arg"><b>参数：</b>SEVOLUME <span class='number'>vol</span></p>
	<p class="example"><b>例：</b></p>
	<div class="examplecode"><p><span class='functionWord'>SEVOLUME</span> <span class='number'>-1000</span></p></div>
	<p class="func"><b>功能：</b></p>
	<div class="description">
		<p>设置SE的音量。</p>
	</div>
</div>
<div class="function" id="SECHVOLUME">
	<p class="functionName">SECHVOLUME</p>
	<p class="arg"><b>参数：</b>SECHVOLUME <span class='number'>ch</span>,<span class='number'>vol</span></p>
	<p class="example"><b>例：</b></p>
	<div class="examplecode"><p><span class='functionWord'>SECHVOLUME</span> <span class='number'>4</span>,-<span class='number'>10000</span></p></div>
	<p class="func"><b>功能：</b></p>
	<div class="description">
		<p>单独设置某个通道的音量。</p>
	</div>
</div>
<div class="function" id="SEFADEOUT">
	<p class="functionName">SEFADEOUT</p>
	<p class="arg"><b>参数：</b>SEFADEOUT <span class='number'>time</span></p>
	<p class="example"><b>例：</b></p>
	<div class="examplecode"><p><span class='functionWord'>SEFADEOUT</span> <span class='number'>1000</span></p></div>
	<p class="func"><b>功能：</b></p>
	<div class="description">
		<p>设置SE的淡出时间（毫秒）。</p>
	</div>
</div>
<div class="function" id="GETSEVOLUME">
	<p class="functionName">GETSEVOLUME</p>
	<p class="arg"><b>参数：</b>GETSEVOLUME()</p>
	<p class="example"><b>例：</b></p>
	<div class="examplecode"><p><span class='var'>sevol</span>=<span class='functionWord'>GETSEVOLUME</span>()</p></div>
	<p class="func"><b>功能：</b></p>
	<div class="description">
		<p>获得SE的音量。</p>
	</div>
</div>
<div class="function" id="VOICEPLAY">
	<p class="functionName">VOICEPLAY</p>
	<p class="arg"><b>参数：</b>VOICEPLAY <span class='text'>name</span>,<span class='number'>spd</span></p>
	<p class="example"><b>例：</b></p>
	<div class="examplecode">
		<p><span class='functionWord'>VOICEPLAY</span> <span class='text'>"voice0000.ogg"</span></p>
		<p><span class='functionWord'>VOICEPLAY</span> <span class='text'>"voice0000.ogg"</span>,<span class='number'>2</span></p>
	</div>
	<p class="func"><b>功能：</b></p>
	<div class="description">
		<p>播放语音。spd参数可以省略。例子中的2表示2倍速播放。</p>
		<p>文件名为""的时候停止当前播放的语音。</p>
	</div>
</div>
<div class="function" id="VOICEFADEOUT">
	<p class="functionName">VOICEFADEOUT</p>
	<p class="arg"><b>参数：</b>VOICEFADEOUT <span class='number'>time</span></p>
	<p class="example"><b>例：</b></p>
	<div class="examplecode"><p><span class='functionWord'>VOICEFADEOUT</span> <span class='number'>1000</span></p></div>
	<p class="func"><b>功能：</b></p>
	<div class="description">
		<p>指定语音淡出的时间（毫秒）。</p>
	</div>
</div>
<div class="function" id="VOICEVOLUME">
	<p class="functionName">VOICEVOLUME</p>
	<p class="arg"><b>参数：</b>VOICEVOLUME <span class='number'>vol</span></p>
	<p class="example"><b>例：</b></p>
	<div class="examplecode"><p><span class='functionWord'>VOICEVOLUME</span> <span class='number'>-10000</span></p></div>
	<p class="func"><b>功能：</b></p>
	<div class="description">
		<p>设定语音的音量。</p>
	</div>
</div>
<div class="function" id="GETVOICEVOLUME">
	<p class="functionName">GETVOICEVOLUME</p>
	<p class="arg"><b>参数：</b>GETVOICEVOLUME()</p>
	<p class="example"><b>例：</b></p>
	<div class="examplecode"><p><span class='var'>voicevol</span>=<span class='functionWord'>GETVOICEVOLUME</span>()</p></div>
	<p class="func"><b>功能：</b></p>
	<div class="description">
		<p>获得语音的音量。</p>
	</div>
</div>
<h5>电影功能</h5>
<div class="function" id="MOVIE">
	<p class="functionName">MOVIE</p>
	<p class="arg"><b>参数：</b>MOVIE <span class='text'>name</span>,<span class='number'>clickskip</span>,<span class='number'>volume</span></p>
	<p class="example"><b>例：</b></p>
	<div class="examplecode">
		<p><span class='functionWord'>MOVIE</span> <span class='text'>"test.mpg"</span>,<span class='number'>1</span>,<span class='number'>0</span></p>
		<p>※clickskip省略的话为0，volume省略的话和BGM的音量相同。</p>
	</div>
	<p class="func"><b>功能：</b></p>
	<div class="description">
		<p>以充满整个窗口，在所有元素最前播放影片，会停止其他所有动作的处理。</p>
		<p>用于游戏的OP、ED或者不需要实现交互操作的短电影。</p>
		<p>clickskip指定为1的话点击可跳过影片。</p>
	</div>
</div>
<div class="function" id="MRESET">
	<p class="functionName">MRESET</p>
	<p class="arg"><b>参数：</b>MRESET</p>
	<p class="example"><b>例：</b></p>
	<div class="examplecode"><p><span class='functionWord'>MRESET</span></p></div>
	<p class="func"><b>功能：</b></p>
	<div class="description">
		<p>重置所有的动画纹理，使之从头开始播放。</p>
	</div>
</div>

<div class="function" id="MWRITEBEGIN">
	<p class="functionName">MWRITEBEGIN</p>
	<p class="arg"><b>参数：</b>MWRITEBEGIN <span class='text'>filename</span>,<span class='number'>width</span>,<span class='number'>height</span>,<span class='number'>fps</span>,<span class='number'>framenum</span></p>
	<p class="example"><b>例：</b></p>
	<div class="examplecode"><p><span class='functionWord'>MWRITEBEGIN</span> <span class='text'>"test.avi"</span>,<span class='number'>800</span>,<span class='number'>600</span>,<span class='number'>30</span>,<span class='number'>60</span> ;30fps，共60帧，也就是说2秒的动画</p></div>
	<p class="func"><b>功能：</b></p>
	<div class="description">
		<p>打开一个电影文件供写入。格式为无压缩的AVI。</p>
		<p>同时只能写入一个文件。</p>
	</div>
</div>
<div class="function" id="MWRITE">
	<p class="functionName">MWRITE</p>
	<p class="arg"><b>参数：</b>MWRITE <span class='number'>frame</span>,<span class='text'>bmpname</span></p>
	<p class="example"><b>例：</b></p>
	<div class="examplecode"><p><span class='functionWord'>MWRITE</span> <span class='number'>10</span>,<span class='text'>"bmp"</span></p></div>
	<p class="func"><b>功能：</b></p>
	<div class="description">
		<p>将现在播放的动画保存为图像文件。</p>
		<p>图像的部分请参照后面的位图类命令中的“位图名”来指定。</p>
	</div>
</div>
<div class="function" id="MWRITEEND">
	<p class="functionName">MWRITEEND</p>
	<p class="arg"><b>参数：</b>MWRITEEND</p>
	<p class="example"><b>例：</b></p>
	<div class="examplecode"><p><span class='functionWord'>MWRITEEND</span></p></div>
	<p class="func"><b>功能：</b></p>
	<div class="description">
		<p>停止从图片到电影文件的生成。将改变写入到文件中。</p>
	</div>
</div>
<h5>其他基本功能</h5>
<div class="function" id="QUIT">
	<p class="functionName">QUIT</p>
	<p class="arg"><b>参数：</b>QUIT</p>
	<p class="example"><b>例：</b></p>
	<div class="examplecode"><p><span class='functionWord'>QUIT</span></p></div>
	<p class="func"><b>功能：</b></p>
	<div class="description">
		<p>终止程序。和基本的END功能实现方式不同。</p>
		<p>END命令还有END IF，END LOOP等用法（此外，Lua只有end能够终止程序。）、为了容易理解使用此命令。</p>
	</div>
</div>
<div class="function" id="LOAD">
	<p class="functionName">LOAD</p>
	<p class="arg"><b>参数：</b>LOAD <span class='number'>num</span></p>
	<p class="example"><b>例：</b></p>
	<div class="examplecode"><p><span class='functionWord'>LOAD</span> <span class='number'>2</span></p></div>
	<p class="func"><b>功能：</b></p>
	<div class="description">
		<p>从存档文件读取游戏存档。num为存档编号。</p>
	</div>
</div>
<div class="function" id="SAVE">
	<p class="functionName">SAVE</p>
	<p class="arg"><b>参数：</b>SAVE <span class='number'>num</span></p>
	<p class="example"><b>例：</b></p>
	<div class="examplecode"><p><span class='functionWord'>SAVE</span> <span class='number'>2</span></p></div>
	<p class="func"><b>功能：</b></p>
	<div class="description">
		<p>将最后一个保存点的数据保存至文件。num为存档编号。</p>
		<p>保存点会在一段文字开始的时候自动更新。</p>
	</div>
</div>
<div class="function" id="SAVEMODE">
	<p class="functionName">SAVEMODE</p>
	<p class="arg"><b>参数：</b>SAVEMODE <span class='number'>num</span></p>
	<p class="example"><b>例：</b></p>
	<div class="examplecode"><p><span class='functionWord'>SAVEMODE</span> <span class='number'>1</span></p></div>
	<p class="func"><b>功能：</b></p>
	<div class="description">
		<p>打开/关闭更新保存点的功能。</p>
		<p>为0的话在保存点处不更新。</p>
	</div>
</div>
<div class="function" id="SAVEPOINT">
	<p class="functionName">SAVEPOINT</p>
	<p class="arg"><b>参数：</b>SAVEPOINT</p>
	<p class="example"><b>例：</b></p>
	<div class="examplecode"><p><span class='functionWord'>SAVEPOINT</span></p></div>
	<p class="func"><b>功能：</b></p>
	<div class="description">
		<p>强制地更新保存点。</p>
		<p>会耗费一定的时间，在不必要的地方不要轻易使用。</p>
	</div>
</div>
<div class="function" id="SAVETIME">
	<p class="functionName">SAVETIME</p>
	<p class="arg"><b>参数：</b>SAVETIME <span class='number'>num</span>,<span class='var'>yearval</span>,<span class='var'>monthval</span>,<span class='var'>dayval</span>,<span class='var'>hourval</span>,<span class='var'>minval</span>,<span class='var'>secval</span></p>
	<p class="example"><b>例：</b></p>
	<div class="examplecode"><p><span class='functionWord'>SAVETIME</span> <span class='number'>3</span>,<span class='var'>%year</span>,<span class='var'>%month</span>,<span class='var'>%day</span>,<span class='var'>%hour</span>,<span class='var'>%min</span>,<span class='var'>%sec</span></p></div>
	<p class="func"><b>功能：</b></p>
	<div class="description">
		<p>获得存档的保存时间。</p>
	</div>
</div>
<div class="function" id="SCHK">
	<p class="functionName">SCHK</p>
	<p class="arg"><b>参数：</b>SCHK(<span class='number'>num</span>)</p>
	<p class="example"><b>例：</b></p>
	<div class="examplecode"><p><span class='var'>%saveexist</span>=<span class='functionWord'>SCHK</span>(<span class='number'>2</span>)</p></div>
	<p class="func"><b>功能：</b></p>
	<div class="description">
		<p>存档存在的话返回1，否则返回0。num为存档编号。</p>
	</div>
</div>
<div class="function" id="WAIT">
	<p class="functionName">WAIT</p>
	<p class="arg"><b>参数：</b>WAIT <span class='number'>time</span>,<span class='number'>clickskip</span></p>
	<p class="example"><b>例：</b></p>
	<div class="examplecode">
		<p><span class='functionWord'>WAIT</span> <span class='number'>1000</span></p>
		<p><span class='functionWord'>WAIT</span> <span class='number'>2000</span>,<span class='number'>1</span></p>
	</div>
	<p class="func"><b>功能：</b></p>
	<div class="description">
		<p>等待指定的时间。用于执行动画。</p>
		<p>clickskip可以省略。指定1的话，允许单击跳过等待。</p>
	</div>
</div>
<div class="function" id="SKIP">
	<p class="functionName">SKIP</p>
	<p class="arg"><b>参数：</b>SKIP <span class='number'>num</span></p>
	<p class="example"><b>例：</b></p>
	<div class="examplecode"><p><span class='functionWord'>SKIP</span> <span class='number'>1</span></p></div>
	<p class="func"><b>功能：</b></p>
	<div class="description">
		<p>变更Skip模式。</p>
		<p>0为关闭Skip（正常模式），1为Skip模式，2为自动模式。</p>
	</div>
</div>
<div class="function" id="GETSKIP">
	<p class="functionName">GETSKIP</p>
	<p class="arg"><b>参数：</b>GETSKIP()</p>
	<p class="example"><b>例：</b></p>
	<div class="examplecode"><p><span class='var'>%skipmode</span>=<span class='functionWord'>GETSKIP</span>()</p></div>
	<p class="func"><b>功能：</b></p>
	<div class="description">
		<p>获取当前的Skip模式。</p>
	</div>
</div>
<div class="function" id="TCHK">
	<p class="functionName">TCHK</p>
	<p class="arg"><b>参数：</b>TCHK()</p>
	<p class="example"><b>例：</b></p>
	<div class="examplecode"><p><span class='var'>%alreadyread</span>=<span class='functionWord'>TCHK</span>()</p></div>
	<p class="func"><b>功能：</b></p>
	<div class="description">
		<p>获得当前文本的属性，已经阅读过的部分返回1，未读的部分返回0。</p>
		<p>用于实现跳过已读文本功能。在@textb中判断这个值然后选择是否关闭Skip模式。</p>
	</div>
</div>
<div class="function" id="LUA">
	<p class="functionName">LUA</p>
	<p class="arg"><b>参数：</b>LUA <span class='text'>str</span></p>
	<p class="example"><b>例：</b></p>
	<div class="examplecode"><p><span class='functionWord'>LUA</span> <span class='text'>'os.execute("pause")'</span></p></div>
	<p class="func"><b>功能：</b></p>
	<div class="description">
		<p>执行Lua脚本。</p>
	</div>
</div>
<div class="function" id="LUAFILE">
	<p class="functionName">LUAFILE</p>
	<p class="arg"><b>参数：</b>LUAFILE <span class='text'>filename</span></p>
	<p class="example"><b>例：</b></p>
	<div class="examplecode"><p><span class='functionWord'>LUAFILE</span> <span class='text'>"system.lua"</span></p></div>
	<p class="func"><b>功能：</b></p>
	<div class="description">
		<p>读取Lua文件并执行。</p>
	</div>
</div>
<div class="function" id="LUAF">
	<p class="functionName">LUAF</p>
	<p class="arg"><b>参数：</b>LUAF <span class='text'>str</span></p>
	<p class="example"><b>例：</b></p>
	<div class="examplecode"><p><span class='var'>%a</span>=<span class='functionWord'>LUAF</span>(<span class='text'>"foo(1)"</span>)</p></div>
	<p class="func"><b>功能：</b></p>
	<div class="description">
		<p>执行Lua函数，将函数的返回值作为此命令的返回值。</p>
	</div>
</div>
<div class="function" id="DEFSUB">
	<p class="functionName">DEFSUB</p>
	<p class="arg"><b>参数：</b>DEFSUB <span class='text'>commandname</span>,<span class='text'>prototypestr</span></p>
	<p class="example"><b>例：</b></p>
	<div class="examplecode"><p><span class='functionWord'>DEFSUB</span> <span class='text'>chr</span>,<span class='text'>"SN"</span></p></div>
	<p class="func"><b>功能：</b></p>
	<div class="description">
		<p>自定义命令。命令名同时也是子程序的名字。</p>
		<p>例子中代码，第一个字符串变量chr定义了一个chr命令。</p>
		<p><span class='label'>@chr</span></p>
		<p><span class='reverseWord'>param</span> <span class='var'>%name</span>,<span class='var'>%pos</span></p>
		<p>命令的参数的获得如上例中在命令内部实现。</p>
		<br />
		<p>原型（prototype）的定义如下：</p>
		<p>S 接受字符串</p>
		<p>N 接受数值</p>
		<p>R 接受变量名（）</p>
		<p>A 接受数值或者字符串</p>
		<p>. </p>
		<p>?N ?S 参数存在的时候为N和S，没有的时候接受为#NIL。</p>
		<p>* 之后的参数都不进行类型检查，全部接受。</p>
		<p>O 接受可选参数。在系统内部只是一个字符串（值传给了basic.decode_table）</p>
	</div>
</div>
<div class="function" id="PARAM">
	<p class="functionName">PARAM</p>
	<p class="arg"><b>参数：</b>PARAM <span class='var'>param1</span>,<span class='var'>param2</span>,...</p>
	<p class="example"><b>例：</b></p>
	<div class="examplecode"><p><span class='functionWord'>PARAM</span> <span class='var'>%name</span>,<span class='var'>%pos</span></p></div>
	<p class="func"><b>功能：</b></p>
	<div class="description">
		<p>调用子程序的时候规定接受参数的变量。</p>
	</div>
</div>
<div class="function" id="VSET">
	<p class="functionName">VSET</p>
	<p class="arg"><b>参数：</b>VSET <span class='var'>varname</span>,<span class='text'>value</span></p>
	<p class="example"><b>例：</b></p>
	<div class="examplecode">
		<p><span class='reverseWord'>defsub</span> <span class='text'></p>
		<p>test</span>,<span class='text'>"R"</span></p>
		<p>test <span class='var'>name</span></p>
		<p><span class='functionWord'>CPRINT</span> <span class='var'>%name</span></p>
		<p><span class='reverseWord'>quit</span></p>
		<br />
		<p><span class='label'>@test</span></p>
		<p><span class='functionWord'>PARAM</span> <span class='var'>%v</span></p>
		<p><span class='functionWord'>VSET</span> <span class='var'>%v</span>,<span class='text'>"名前"</span></p>
		<p><span class='reverseWord'>return</span></p>
	</div>
	<p class="func"><b>功能：</b></p>
	<div class="description">
		<p>对param传递的变量赋值。</p>
	</div>
</div>
<div class="function" id="VGET">
	<p class="functionName">VGET</p>
	<p class="arg"><b>参数：</b>VGET(<span class='var'>varname</span>)</p>
	<p class="example"><b>例：</b></p>
	<div class="examplecode">
		<p><span class='reverseWord'>defsub</span> <span class='text'>test</span>,<span class='text'>"R"</span></p>
		<p><span class='var'>%name</span>=<span class='text'>"てすと"</span></p>
		<p>test <span class='var'>%name</span></p>
		<p><span class='reverseWord'>quit</span></p>
		<br />
		<p><span class='label'>@test</span></p>
		<p><span class='functionWord'>PARAM</span> <span class='var'>%v</span></p>
		<p><span class='functionWord'>CPRINT</span> <span class='functionWord'>VGET</span>(<span class='var'>%v</span>)</p>
		<p><span class='reverseWord'>return</span></p>
	</div>
	<p class="func"><b>功能：</b></p>
	<div class="description">
		<p>获得PARAM传递的变量</p>
	</div>
</div>
<div class="function" id="CALL">
	<p class="functionName">CALL</p>
	<p class="arg"><b>参数：</b>CALL <span class='label'>label</span>,<span class='text'>prototypestr</span>,param1,param2,...</p>
	<p class="example"><b>例：</b></p>
	<div class="examplecode"><p>CALL <span class='label'>@test</span>,<span class='text'>"SS"</span>,<span class='text'>"paramstr1"</span>,<span class='text'>"paramstr2"</span></p></div>
	<p class="func"><b>功能：</b></p>
	<div class="description">
		<p>调用预先由defsub定义好的命令，label为子程序名。</p>
		<p>必须要使用这种方法处理的DEFSUB的适用范围并不广。</p>
		<p>执行部分的语句和DEFSUB的内容完全相同。</p>
	</div>
</div>
<div class="function" id="INPUT">
	<p class="functionName">INPUT</p>
	<p class="arg"><b>参数：</b>INPUT <span class='var'>val</span>,<span class='text'>text</span>,<span class='text'>caption</span></p>
	<p class="example"><b>例：</b></p>
	<div class="examplecode"><p><span class='functionWord'>INPUT</span> <span class='var'>%ret</span>,<span class='text'>"这是测试文本"</span>,<span class='text'>"对话框标题"</span></p></div>
	<p class="func"><b>功能：</b></p>
	<div class="description">
		<p>显示一个接受字符串的对话框，传递给val处的变量。</p>
	</div>
</div>
<div class="function" id="GETSCREENSHOT">
	<p class="functionName">GETSCREENSHOT</p>
	<p class="arg"><b>参数：</b>GETSCREENSHOT <span class='text'>bmpname</span></p>
	<p class="example"><b>例：</b></p>
	<div class="examplecode"><p><span class='functionWord'>GETSCREENSHOT</span> <span class='text'>"test"</span></p></div>
	<p class="func"><b>功能：</b></p>
	<div class="description">
		<p>生成一个位图对象，用于保存屏幕截图。</p>
	</div>
</div>
<div class="function" id="GETLOGTEXT">
	<p class="functionName">GETLOGTEXT</p>
	<p class="arg"><b>参数：</b>GETLOGTEXT <span class='number'>num</span>,<span class='var'>tag</span>,<span class='var'>text</span></p>
	<p class="example"><b>例：</b></p>
	<div class="examplecode"><p><span class='functionWord'>GETLOGTEXT</span> <span class='number'>0</span>,<span class='var'>%tag</span>,<span class='var'>%text</span></p></div>
	<p class="func"><b>功能：</b></p>
	<div class="description">
		<p>获得回想记录中的数据。</p>
		<p>0表示是当前的文字，1~某个数则是表示相对多少页前的文字。</p>
	</div>
</div>
<div class="function" id="LOGCHK">
	<p class="functionName">LOGCHK</p>
	<p class="arg"><b>参数：</b>LOGCHK(<span class='number'>num</span>)</p>
	<p class="example"><b>例：</b></p>
	<div class="examplecode"><p><span class='var'>%logexist</span>=<span class='functionWord'>LOGCHK</span>(<span class='number'>1</span>)</p></div>
	<p class="func"><b>功能：</b></p>
	<div class="description">
		<p>存在指定编号的log的话返回1，否则返回0.</p>
		<p>如果这个函数返回1的话，就可以使用GETLOGTEXT命令来获得log。</p>
	</div>
</div>
<div class="function" id="LCHK">
	<p class="functionName">LCHK</p>
	<p class="arg"><b>参数：</b>LCHK(<span class='label'>label</span>)</p>
	<p class="example"><b>例：</b></p>
	<div class="examplecode"><p><span class='var'>%labelflag</span>=<span class='functionWord'>LCHK</span>("<span class='label'>@test</span>")</p></div>
	<p class="func"><b>功能：</b></p>
	<div class="description">
		<p>如果标签存在的话返回1，否则返回0。</p>
		<p>用于实现场景回想功能。</p>
	</div>
</div>
<div class="function" id="FCHK">
	<p class="functionName">FCHK</p>
	<p class="arg"><b>参数：</b>FCHK(<span class='text'>filename</span>)</p>
	<p class="example"><b>例：</b></p>
	<div class="examplecode"><p><span class='var'>%fileflag</span>=<span class='functionWord'>FCHK</span>(<span class='text'>"ev\test.png"</span>)</p></div>
	<p class="func"><b>功能：</b></p>
	<div class="description">
		<p>如果已经将图像作为贴图读入内存则返回1，否则返回0。</p>
		<p>用于实现CG鉴赏等功能。</p>
	</div>
</div>
<div class="function" id="FILECHK">
	<p class="functionName">FILECHK</p>
	<p class="arg"><b>参数：</b>FILECHK(<span class='text'>filename</span>)</p>
	<p class="example"><b>例：</b></p>
	<div class="examplecode"><p><span class='var'>%appendflag</span>=<span class='functionWord'>FILECHK</span>(<span class='text'>"06.ns2"</span>)
</p></div>
	<p class="func"><b>功能：</b></p>
	<div class="description">
		<p>检查此文件或者压缩包中是否存在该文件。</p>
		<p>FCHK是检查是否已读入该文件，如果存在但是未读入的话也会返回0。</p>
		<p>而此命令则是存在的话会返回1。请注意这一点。</p>
		<p>此功能用于检查是否有更新包。</p>
	</div>
</div>
<div class="function" id="">
	<p class="functionName"></p>
	<p class="arg"><b>参数：</b>LINSERT <span class='label'>label</span></p>
	<p class="example"><b>例：</b></p>
	<div class="examplecode"><p><span class='functionWord'>LINSERT</span> "<span class='label'>@test</span>"</p></div>
	<p class="func"><b>功能：</b></p>
	<div class="description">
		<p>将此命令中的标签（label）当作实际通过的标签记录到记录（log）中。</p>
		<p>比如回想模式中的标签（label）和实际的剧本中的是不一样的。（用于进行回想模式中的特殊处理等）</p>
	</div>
</div>
<div class="function" id="FINSERT">
	<p class="functionName">FINSERT</p>
	<p class="arg"><b>参数：</b>FINSERT <span class='text'>filename</span></p>
	<p class="example"><b>例：</b></p>
	<div class="examplecode"><p><span class='functionWord'>FINSERT</span> <span class='text'>"test.png"</span></p></div>
	<p class="func"><b>功能：</b></p>
	<div class="description">
		<p>将此命令中的文件当作实际读取的文件记录到记录（log）中。</p>
		<p>在CG鉴赏模式中，实际剧本中的图像和CG鉴赏模式中显示的图像时使用。</p>
	</div>
</div>
<div class="function" id="FILETIME">
	<p class="functionName">FILETIME</p>
	<p class="arg"><b>参数：</b>FILETIME <span class='text'>name</span>,<span class='var'>year</span>,<span class='var'>month</span>,<span class='var'>day</span>,<span class='var'>hour</span>,<span class='var'>min</span>,<span class='var'>sec</span></p>
	<p class="example"><b>例：</b></p>
	<div class="examplecode"><p><span class='functionWord'>FILETIME</span> <span class='text'>"test.txt"</span>,<span class='var'>%year</span>,<span class='var'>%month</span>,<span class='var'>%day</span>,<span class='var'>%hour</span>,<span class='var'>%min</span>,<span class='var'>%sec</span></p></div>
	<p class="func"><b>功能：</b></p>
	<div class="description">
		<p>获得此文件的修改日期。</p>
	</div>
</div>
<h5>系统功能</h5>
<div class="function" id="CAPTION">
	<p class="functionName">CAPTION</p>
	<p class="arg"><b>参数：</b>CAPTION <span class='text'>name</span></p>
	<p class="example"><b>例：</b></p>
	<div class="examplecode"><p><span class='functionWord'>CAPTION</span> <span class='text'>"ウィンドウタイトル"</span></p></div>
	<p class="func"><b>功能：</b></p>
	<div class="description">
		<p>设定窗口标题的文字。</p>
		<p>※请注意窗口标题在全屏模式下不可见。</p>
		<p>这里显示的文字并不限于对所有的玩家来说都可见。</p>
	</div>
</div>
<div class="function" id="CLEARMOUSE">
	<p class="functionName">CLEARMOUSE</p>
	<p class="arg"><b>参数：</b>CLEARMOUSE</p>
	<p class="example"><b>例：</b></p>
	<div class="examplecode"><p><span class='functionWord'>CLEARMOUSE</span></p></div>
	<p class="func"><b>功能：</b></p>
	<div class="description">
		<p>清空窗口所有的鼠标消息。</p>
		<p>在此命令之前的所有的鼠标点击记录都会被抛弃。</p>
	</div>
</div>
<div class="function" id="DOEVENTS">
	<p class="functionName">DOEVENTS</p>
	<p class="arg"><b>参数：</b>DOEVENTS</p>
	<p class="example"><b>例：</b></p>
	<div class="examplecode"><p><span class='functionWord'>DOEVENTS</span></p></div>
	<p class="func"><b>功能：</b></p>
	<div class="description">
		<p>处理消息，在循环的时候需要适时调用。</p>
		<p>在书写GETCLICK或者GETMOUSE的消息处理循环的时候，如果不使用此命令的话则无法取得消息。</p>
	</div>
</div>
<div class="function" id="EXEC">
	<p class="functionName">EXEC</p>
	<p class="arg"><b>参数：</b>EXEC <span class='text'>str</span></p>
	<p class="example"><b>例：</b></p>
	<div class="examplecode"><p><span class='functionWord'>EXEC</span> <span class='text'>'CAPTION "変更"'</span></p></div>
	<p class="func"><b>功能：</b></p>
	<div class="description">
		<p>执行字符串中的命令。</p>
	</div>
</div>
<div class="function" id="GETCLICK">
	<p class="functionName">GETCLICK</p>
	<p class="arg"><b>参数：</b>GETCLICK <span class='var'>l</span>,<span class='var'>r</span>,<span class='var'>w</span>,<span class='var'>ld</span>,<span class='var'>rd</span></p>
	<p class="example"><b>例：</b></p>
	<div class="examplecode">
		<p><span class='functionWord'>GETCLICK</span> <span class='var'>%l</span></p>
		<p><span class='functionWord'>GETCLICK</span> <span class='var'>%l</span>,<span class='var'>%r</span>,<span class='var'>%w</span></p>
	</div>
	<p class="func"><b>功能：</b></p>
	<div class="description">
		<p>获得鼠标的输入。不必指定所有的变量。</p>
		<p>从左到右为，松开左键，松开右键，滚轮，按下左键，按下右键。</p>
		<p>※松开的基准是根据Windows的接口的一般调用来实现的。</p>
		<p>※滚轮向上返回-1，向下返回1。</p>
	</div>
</div>
<div class="function" id="GETMOUSE">
	<p class="functionName">GETMOUSE</p>
	<p class="arg"><b>参数：</b>GETMOUSE <span class='var'>x</span>,<span class='var'>y</span></p>
	<p class="example"><b>例：</b></p>
	<div class="examplecode"><p><span class='functionWord'>GETMOUSE</span> <span class='var'>%x</span>,<span class='var'>%y</span></p></div>
	<p class="func"><b>功能：</b></p>
	<div class="description">
		<p>获得鼠标的坐标。在窗口外则返回-1，-1。</p>
	</div>
</div>
<div class="function" id="SETCLIPBOARD">
	<p class="functionName">SETCLIPBOARD</p>
	<p class="arg"><b>参数：</b>SETCLIPBOARD <span class='text'>str</span></p>
	<p class="example"><b>例：</b></p>
	<div class="examplecode"><p><span class='functionWord'>SETCLIPBOARD</span> <span class='text'>"cliptext"</span></p></div>
	<p class="func"><b>功能：</b></p>
	<div class="description">
		<p>设置剪切板中的文字。</p>
		<p>例如，程序需要实现在选择图像的时候，将显示图像的指令复制到剪切板中的功能。</p>
	</div>
</div>
<div class="function" id="SETMOUSE">
	<p class="functionName">SETMOUSE</p>
	<p class="arg"><b>参数：</b>SETMOUSE <span class='number'>x</span>,<span class='number'>y</span></p>
	<p class="example"><b>例：</b></p>
	<div class="examplecode"><p><span class='functionWord'>SETMOUSE</span> <span class='number'>400</span>,<span class='number'>300</span></p></div>
	<p class="func"><b>功能：</b></p>
	<div class="description">
		<p>将鼠标移动到指定的位置。</p>
	</div>
</div>
<div class="function" id="OKBOX">
	<p class="functionName">OKBOX</p>
	<p class="arg"><b>参数：</b>OKBOX <span class='text'>text</span>,<span class='text'>caption</span></p>
	<p class="example"><b>例：</b></p>
	<div class="examplecode"><p><span class='functionWord'>OKBOX</span> <span class='text'>"对话框内容"</span>,<span class='text'>"对话框标题"</span></p></div>
	<p class="func"><b>功能：</b></p>
	<div class="description">
		<p>显示一个有OK按钮的对话框，在按下OK按钮之后脚本才会继续执行。</p>
	</div>
</div>
<div class="function" id="RESETTIMER">
	<p class="functionName">RESETTIMER</p>
	<p class="arg"><b>参数：</b>RESETTIMER</p>
	<p class="example"><b>例：</b></p>
	<div class="examplecode"><p><span class='functionWord'>RESETTIMER</span></p></div>
	<p class="func"><b>功能：</b></p>
	<div class="description">
		<p>重置内部的计时器。GETTIMER()和WAITTIMER()都是以此为起点计算时间的。</p>
	</div>
</div>
<div class="function" id="WAITTIMER">
	<p class="functionName">WAITTIMER</p>
	<p class="arg"><b>参数：</b>WAITTIMER <span class='number'>milisecond</span></p>
	<p class="example"><b>例：</b></p>
	<div class="examplecode"><p><span class='functionWord'>WAITTIMER</span> <span class='number'>1000</span></p></div>
	<p class="func"><b>功能：</b></p>
	<div class="description">
		<p>等待从RESETTIMER命令开始执行算起的时间。用于实现动画。</p>
	</div>
</div>
<div class="function" id="SETSCREEN">
	<p class="functionName">SETSCREEN</p>
	<p class="arg"><b>参数：</b>SETSCREEN <span class='number'>screenflag</span></p>
	<p class="example"><b>例：</b></p>
	<div class="examplecode"><p><span class='functionWord'>SETSCREEN</span> <span class='number'>1</span></p></div>
	<p class="func"><b>功能：</b></p>
	<div class="description">
		<p>设置显示的模式。0为窗口模式。</p>
		<p>1为全屏模式（分辨率变化）</p>
		<p>2为全屏模式（保持纵横比扩大）</p>
	</div>
</div>
<div class="function" id="SHELL">
	<p class="functionName">SHELL</p>
	<p class="arg"><b>参数：</b>SHELL <span class='text'>str</span></p>
	<p class="example"><b>例：</b></p>
	<div class="examplecode">
		<p><span class='functionWord'>SHELL</span> <span class='text'>"readme.txt"</span></p>
		<p><span class='functionWord'>SHELL</span> <span class='text'>"http://www.nscripter.com/"</span></p>
	</div>
	<p class="func"><b>功能：</b></p>
	<div class="description">
		<p>在Shell中打开指定的文件或者访问指定的网页。</p>
	</div>
</div>
<div class="function" id="YESNOBOX">
	<p class="functionName">YESNOBOX</p>
	<p class="arg"><b>参数：</b>YESNOBOX <span class='var'>ret</span>,<span class='text'>text</span>,<span class='text'>caption</span></p>
	<p class="example"><b>例：</b></p>
	<div class="examplecode"><p><span class='functionWord'>YESNOBOX</span> <span class='var'>%ret</span>,<span class='text'>"要覆盖该存档吗？"</span>,<span class='text'>"存档覆盖确认"</span></p></div>
	<p class="func"><b>功能：</b></p>
	<div class="description">
		<p>显示一个YES或者NO的对话框。是的话变量返回1，否的话返回0.</p>
	</div>
</div>
<div class="function" id="GETCONFIG">
	<p class="functionName">GETCONFIG</p>
	<p class="arg"><b>参数：</b>GETCONFIG(<span class='text'>key</span>)</p>
	<p class="example"><b>例：</b></p>
	<div class="examplecode"><p><span class='var'>%value</span>=<span class='functionWord'>GETCONFIG</span>(<span class='text'>"configkey"</span>)</p></div>
	<p class="func"><b>功能：</b></p>
	<div class="description">
		<p>从ini文件中读取设定。返回指定的键值（key）对应的字符串。</p>
	</div>
</div>
<div class="function" id="GETKEY">
	<p class="functionName">GETKEY</p>
	<p class="arg"><b>参数：</b>GETKEY(<span class='text'>keystr</span>)</p>
	<p class="example"><b>例：</b></p>
	<div class="examplecode">
		<p><span class='var'>%ret</span>=<span class='functionWord'>GETKEY</span>(<span class='text'>"C"</span>)</p>
		<p>><span class='var'>%ret</span>=<span class='functionWord'>GETKEY</span>(<span class='text'>"CTRL"</span>)</p>
		<p><span class='var'>%ret</span>=<span class='functionWord'>GETKEY</span>(<span class='text'>" "</span>)</p>
	</div>
	<p class="func"><b>功能：</b></p>
	<div class="description">
		<p>对应按键被按下则返回1，松开则返回0。</p>
		<p>按键对应的字符串是英文大写字母，列表如下。</p>
		<p>" "或者"SPACE" 空格键</p>
		<p>”ESC“ Esc键</p>
		<p>"CTRL" 控制键</p>
		<p>"UP""DOWN""LEFT""RIGHT" 光标键</p>
		<p>"F1"~"F12" 功能键</p>
		<p>"RETURN" "ENTER" 回车键</p>
		<p>"PAGEUP" "PAGEDOWN" 上翻/下翻键</p>
		<p>"SHIFT" 上档键</p>
		<p>"SCROLLLOCK" 锁屏滚动键（关闭状态返回0，打开状态返回1）</p>
		<p>"NUMLOCK" 数字键盘锁定键（关闭状态返回0，打开状态返回1）</p>
		<p>"CAPSLOCK" 大小写锁定键（关闭状态返回0，打开状态返回1）</p>
		<p>"LBUTTON" 鼠标左键</p>
		<p>"RBUTTON" 鼠标右键</p>
		<p>"MBUTTON" 鼠标中键</p>
	</div>
</div>
<div class="function" id="GETSCREEN">
	<p class="functionName">GETSCREEN</p>
	<p class="arg"><b>参数：</b>GETSCREEN()</p>
	<p class="example"><b>例：</b></p>
	<div class="examplecode"><p><span class='var'>%screenmode</span>=<span class='functionWord'>GETSCREEN</span>()</p></div>
	<p class="func"><b>功能：</b></p>
	<div class="description">
		<p>获得当前的屏幕模式。0为窗口，1位全屏。</p>
	</div>
</div>
<div class="function" id="GETTIMER">
	<p class="functionName">GETTIMER</p>
	<p class="arg"><b>参数：</b>GETTIMER()</p>
	<p class="example"><b>例：</b></p>
	<div class="examplecode"><p><span class='var'>%tm</span>=<span class='functionWord'>GETTIMER</span>()</p></div>
	<p class="func"><b>功能：</b></p>
	<div class="description">
		<p>获得自RESETTIMER开始经过的时间（毫秒）。</p>
	</div>
</div>
<div class="function" id="LCLICKED">
	<p class="functionName">LCLICKED</p>
	<p class="arg"><b>参数：</b>LCLICKED()</p>
	<p class="example"><b>例：</b></p>
	<div class="examplecode"><p><span class='var'>%clicked</span>=<span class='functionWord'>LCLICKED</span>()</p></div>
	<p class="func"><b>功能：</b></p>
	<div class="description">
		<p>存在还未处理的左键点击则返回1，否则就返回0。</p>
	</div>
</div>
<div class="function" id="TIME">
	<p class="functionName">TIME</p>
	<p class="arg"><b>参数：</b>TIME <span class='var'>year</span>,<span class='var'>month</span>,<span class='var'>day</span>,<span class='var'>hour</span>,<span class='var'>min</span>,<span class='var'>sec</span></p>
	<p class="example"><b>例：</b></p>
	<div class="examplecode"><p><span class='functionWord'>TIME</span> <span class='var'>%year</span>,<span class='var'>%month</span>,<span class='var'>%day</span>,<span class='var'>%hour</span>,<span class='var'>%min</span>,<span class='var'>%sec</span></p></div>
	<p class="func"><b>功能：</b></p>
	<div class="description">
		<p>获得当前的时间。</p>
	</div>
</div>
<div class="function" id="MOVIE">
	<p class="functionName">MOVIE</p>
	<p class="arg"><b>参数：</b>MOVIE <span class='text'>filename</span>,<span class='number'>clickskipflag</span>,<span class='number'>volume</span></p>
	<p class="example"><b>例：</b></p>
	<div class="examplecode"><p><span class='functionWord'>MOVIE</span> <span class='text'>"op.mpg"</span>,<span class='number'>1</span></p></div>
	<p class="func"><b>功能：</b></p>
	<div class="description">
		<p>用整个窗口播放影片。点击跳过标志开启的话可以点击左键跳过。</p>
		<p>点击跳过标志和音量都可以省略。省略音量的话则音量和BGM相同。</p>
		<p>※对于透明的影片会无视透明设定保持原样播放，请注意。</p>
		<p>透明的影片并不会让纹理（精灵的）透过而显示出来。</p>
	</div>
</div>
<h5>控制台命令</h5>
<div class="function" id="BEEP">
	<p class="functionName">BEEP</p>
	<p class="arg"><b>参数：</b>BEEP <span class='number'>freq</span>,<span class='number'>mili</span></p>
	<p class="example"><b>例：</b></p>
	<div class="examplecode"><p><span class='functionWord'>BEEP</span></p></div>
	<p class="func"><b>功能：</b></p>
	<div class="description">
		<p>频率（freq）和毫秒数（mili）都可以省略。freq为频率，mili为持续的毫秒数。</p>
		<p></p>
	</div>
</div>
<div class="function" id="CCAPTION">
	<p class="functionName">CCAPTION</p>
	<p class="arg"><b>参数：</b>CCAPTION <span class='text'>titlestr</span></p>
	<p class="example"><b>例：</b></p>
	<div class="examplecode"><p><span class='functionWord'>CCAPTION</span> <span class='text'>"NScripter2 控制台"</span></p></div>
	<p class="func"><b>功能：</b></p>
	<div class="description">
		<p>设定控制台的窗口标题。</p>
	</div>
</div>
<div class="function" id="CCLEAR">
	<p class="functionName">CCLEAR</p>
	<p class="arg"><b>参数：</b>CCLEAR</p>
	<p class="example"><b>例：</b></p>
	<div class="examplecode"><p><span class='functionWord'>CCLEAR</span></p></div>
	<p class="func"><b>功能：</b></p>
	<div class="description">
		<p>清空控制台。（清除所有画面上的文字）</p>
	</div>
</div>
<div class="function" id="CCLOSE">
	<p class="functionName">CCLOSE</p>
	<p class="arg"><b>参数：</b>CCLOSE</p>
	<p class="example"><b>例：</b></p>
	<div class="examplecode"><p><span class='functionWord'>CCLOSE</span></p></div>
	<p class="func"><b>功能：</b></p>
	<div class="description">
		<p>关闭控制台窗口。</p>
	</div>
</div>
<div class="function" id="CCOLOR">
	<p class="functionName">CCOLOR</p>
	<p class="arg"><b>参数：</b>CCOLOR <span class='number'>cr</span>,<span class='number'>cg</span>,<span class='number'>cb</span>,<span class='number'>br</span>,<span class='number'>bg</span>,<span class='number'>bb</span>,<span class='number'>ci</span>,<span class='number'>bi</span></p>
	<p class="example"><b>例：</b></p>
	<div class="examplecode"><p><span class='functionWord'>CCOLOR</span> <span class='number'>1</span>,<span class='number'>0</span>,<span class='number'>1</span>,<span class='number'>0</span>,<span class='number'>0</span>,<span class='number'>1</span></p></div>
	<p class="func"><b>功能：</b></p>
	<div class="description">
		<p>参数可以从任何地方开始省略。</p>
		<p>设置控制台的颜色。cr，cg，cb，ci是文字颜色，br，bg，bb，bi是背景颜色。</p>
		<p>rgb为红绿蓝，i为颜色浓度。0为最稀，1位最浓。</p>
	</div>
</div>
<div class="function" id="CGETCURSOR">
	<p class="functionName">CGETCURSOR</p>
	<p class="arg"><b>参数：</b>CGETCURSOR <span class='var'>x</span>,<span class='var'>y</span></p>
	<p class="example"><b>例：</b></p>
	<div class="examplecode"><p><span class='functionWord'>CGETCURSOR</span> <span class='var'>%x</span>,<span class='var'>%y</span></p></div>
	<p class="func"><b>功能：</b></p>
	<div class="description">
		<p>获得控制台中光标的坐标。</p>
	</div>
</div>
<div class="function" id="CGETSIZE">
	<p class="functionName">CGETSIZE</p>
	<p class="arg"><b>参数：</b>CGETSIZE <span class='var'>w</span>,<span class='var'>h</span></p>
	<p class="example"><b>例：</b></p>
	<div class="examplecode"><p><span class='functionWord'>CGETSIZE</span> <span class='var'>%w</span>,<span class='var'>%h</span></p></div>
	<p class="func"><b>功能：</b></p>
	<div class="description">
		<p>获得控制台横向和纵向容纳的字符数。</p>
	</div>
</div>
<div class="function" id="CLOCATE">
	<p class="functionName">CLOCATE</p>
	<p class="arg"><b>参数：</b>CLOCATE <span class='number'>x</span>,<span class='number'>y</span></p>
	<p class="example"><b>例：</b></p>
	<div class="examplecode"><p><span class='functionWord'>CLOCATE</span> <span class='number'>10</span>,<span class='number'>2</span></p></div>
	<p class="func"><b>功能：</b></p>
	<div class="description">
		<p>设置控制台光标的位置。</p>
	</div>
</div>
<div class="function" id="COPEN">
	<p class="functionName">COPEN</p>
	<p class="arg"><b>参数：</b>COPEN</p>
	<p class="example"><b>例：</b></p>
	<div class="examplecode"><p><span class='functionWord'>COPEN</span></p></div>
	<p class="func"><b>功能：</b></p>
	<div class="description">
		<p>打开控制台窗口。</p>
		<p>即使不使用此命令，在执行控制台输入和输出命令的时候也会自动打开控制台。</p>
	</div>
</div>
<div class="function" id="CPRINT">
	<p class="functionName">CPRINT</p>
	<p class="arg"><b>参数：</b>CPRINT <span class='var'>a</span>,<span class='var'>b</span>,<span class='var'>c</span>,...</p>
	<p class="example"><b>例：</b></p>
	<div class="examplecode"><p><span class='functionWord'>CPRINT</span> <span class='text'>"要显示的字符串。"</span></p></div>
	<p class="func"><b>功能：</b></p>
	<div class="description">
		<p>向控制台输出字符串。最后会加上换行符。</p>
		<p>可以传入多个参数。如果指定多个参数，会将它们连续输出。</p>
	</div>
</div>
<div class="function" id="CSETSIZE">
	<p class="functionName">CSETSIZE</p>
	<p class="arg"><b>参数：</b>CSETSIZE <span class='number'>w</span>,<span class='number'>h</span></p>
	<p class="example"><b>例：</b></p>
	<div class="examplecode"><p><span class='functionWord'>CSETSIZE</span> <span class='number'>80</span>,<span class='number'>25</span></p></div>
	<p class="func"><b>功能：</b></p>
	<div class="description">
		<p>设定控制台窗口横向和纵向容纳的字符数。</p>
	</div>
</div>
<div class="function" id="CSETTEXT">
	<p class="functionName">CSETTEXT</p>
	<p class="arg"><b>参数：</b>CSETTEXT <span class='text'>str</span>,<span class='number'>x</span>,<span class='number'>y</span>,<span class='number'>cr</span>,<span class='number'>cg</span>,<span class='number'>cb</span>,<span class='number'>br</span>,<span class='number'>bg</span>,<span class='number'>bb</span>,<span class='number'>ci</span>,<span class='number'>bi</span></p>
	<p class="example"><b>例：</b></p>
	<div class="examplecode"><p><span class='functionWord'>CSETTEXT</span> <span class='text'>"あいうえお"</span>,<span class='number'>3</span>,<span class='number'>3</span>,<span class='number'>1</span>,<span class='number'>1</span>,<span class='number'>1</span>,<span class='number'>0</span>,<span class='number'>0</span>,<span class='number'>0</span>,<span class='number'>1</span>,<span class='number'>1</span></p></div>
	<p class="func"><b>功能：</b></p>
	<div class="description">
		<p>在指定的位置输出指定的字符串。</p>
		<p>参数的意义请参考CLOCATE和CCOLOR命令。</p>
	</div>
</div>
<div class="function" id="CWRITE">
	<p class="functionName">CWRITE</p>
	<p class="arg"><b>参数：</b>CWRITE <span class='text'>a</span>,<span class='text'>b</span>,<span class='text'>c</span>,...</p>
	<p class="example"><b>例：</b></p>
	<div class="examplecode"><p><span class='functionWord'>CWRITE</span> <span class='text'>"不换行输出字符串。"</span></p></div>
	<p class="func"><b>功能：</b></p>
	<div class="description">
		<p>和CPRINT命令相同，唯一的区别是不换行。</p>
	</div>
</div>
<div class="function" id="SLEEP">
	<p class="functionName">SLEEP</p>
	<p class="arg"><b>参数：</b>SLEEP <span class='number'>miliwait</span></p>
	<p class="example"><b>例：</b></p>
	<div class="examplecode"><p><span class='functionWord'>SLEEP</span> <span class='number'>1000</span></p></div>
	<p class="func"><b>功能：</b></p>
	<div class="description">
		<p>停止指定的时间（毫秒）。</p>
		<p>因为停止的时候不会进行精灵动画和消息的处理，所以请不要长时间的停止。</p>
	</div>
</div>
<div class="function" id="SYSTEM">
	<p class="functionName">SYSTEM</p>
	<p class="arg"><b>参数：</b>SYSTEM <span class='text'>str</span></p>
	<p class="example"><b>例：</b></p>
	<div class="examplecode"><p><span class='functionWord'>SYSTEM</span> <span class='text'>"pause"</span></p></div>
	<p class="func"><b>功能：</b></p>
	<div class="description">
		<p>在命令提示符下执行指定的命令。</p>
	</div>
</div>
<div class="function" id="CINKEY">
	<p class="functionName">CINKEY</p>
	<p class="arg"><b>参数：</b>CINKEY()</p>
	<p class="example"><b>例：</b></p>
	<div class="examplecode"><p><span class='var'>%key</span>=<span class='functionWord'>CINKEY</span>()</p></div>
	<p class="func"><b>功能：</b></p>
	<div class="description">
		<p>从控制台获取一个字符。</p>
		<p>F1 CTRL DOWN ESC RETURN PAGEUP PAGEDOWN</p>
		<p>等特殊按键也会返回对应的字符串。</p>
		<p>没有读取到输入的时候返回#NIL。</p>
	</div>
</div>
<div class="function" id="CREAD">
	<p class="functionName">CREAD</p>
	<p class="arg"><b>参数：</b>CREAD()</p>
	<p class="example"><b>例：</b></p>
	<div class="examplecode"><p><span class='var'>%str</span>=<span class='functionWord'>CREAD</span>()</p></div>
	<p class="func"><b>功能：</b></p>
	<div class="description">
		<p>从控制台读入一个字符串。</p>
	</div>
</div>
<h5>变量功能</h5>
<div class="function" id="ISDEF">
	<p class="functionName">ISDEF</p>
	<p class="arg"><b>参数：</b>ISDEF(<span class='var'>val</span>)</p>
	<p class="example"><b>例：</b></p>
	<div class="examplecode"><p><span class='var'>%isfirst</span>=<span class='functionWord'>ISDEF</span>(<span class='var'>_first</span>)</p></div>
	<p class="func"><b>功能：</b></p>
	<div class="description">
		<p>如果该变量已被定义则返回1，没有则返回0。</p>
		<p>一般来说，访问没有定义的变量会导致错误，而这个函数不会。</p>
		<p>例子中的代码用于检查系统变量_first是否定义。</p>
		<p>在程序第一次启动的时候（即任何变量都没有定义）返回值都是0，在进行设定（configure）的时候，用于预先设定。</p>
		<p>（这个时候请不要忘记对_first进行定义。）</p>
	</div>
</div>
<div class="function" id="SPLIT">
	<p class="functionName">SPLIT</p>
	<p class="arg"><b>参数：</b>SPLIT <span class='text'>str</span>,<span class='text'>delchr</span>,<span class='var'>val1</span>,<span class='var'>val2</span>,...</p>
	<p class="example"><b>例：</b></p>
	<div class="examplecode"><p<span class='functionWord'>SPLIT</span> <span class='text'>"あいうえお/かきくけこ/さしすせそ"</span>,<span class='text'>"/"</span>,<span class='var'>%v1</span>,<span class='var'>%v2</span>,<span class='var'>%v3</span>></p></div>
	<p class="func"><b>功能：</b></p>
	<div class="description">
		<p>根据指定的字符将字符串分割至若干个变量中，对应的字符串不存在的话会代入""。</p>
		<p>例子的情况中，%v1="あいうえお",%v2="かきくけこ",%v3="さしすせそ"。</p>
	</div>
</div>
<div class="function" id="SPLITA">
	<p class="functionName">SPLITA</p>
	<p class="arg"><b>参数：</b>SPLITA <span class='text'>str</span>,<span class='text'>delchr</span>,<span class='var'>val</span></p>
	<p class="example"><b>例：</b></p>
	<div class="examplecode"><p><span class='functionWord'>SPLITA</span> <span class='text'>"あいうえお/かきくけこ/さしすせそ"</span>,<span class='text'>"/"</span>,<span class='var'>%v</span></p></div>
	<p class="func"><b>功能：</b></p>
	<div class="description">
		<p>根据指定的字符将字符串分割至一个数组中。数组最后一个元素会被赋值#NIL。</p>
		<p>例子的情况中，%v[0]="あいうえお",%v[1]="かきくけこ",%v[2]="さしすせそ",%v[3]=#NIL。</p>
	</div>
</div>
<div class="function" id="STRSAVE">
	<p class="functionName">STRSAVE</p>
	<p class="arg"><b>参数：</b>STRSAVE <span class='text'>filename</span>,<span class='text'>str</span></p>
	<p class="example"><b>例：</b></p>
	<div class="examplecode"><p><span class='functionWord'>STRSAVE</span> <span class='text'>"savefile.txt"</span>,<span class='text'>"Hello World!"</span></p></div>
	<p class="func"><b>功能：</b></p>
	<div class="description">
		<p>将指定的字符串保存到指定的文本文件中。</p>
	</div>
</div>
<div class="function" id="STRLOAD">
	<p class="functionName">STRLOAD</p>
	<p class="arg"><b>参数：</b>STRLOAD(<span class='text'>filename</span>)</p>
	<p class="example"><b>例：</b></p>
	<div class="examplecode"><p><span class='var'>%str</span>=<span class='functionWord'>STRLOAD</span>(<span class='text'>filename</span>)</p></div>
	<p class="func"><b>功能：</b></p>
	<div class="description">
		<p>读取文本文件，返回对应的字符串。</p>
	</div>
</div>
<div class="function" id="VCLEAR">
	<p class="functionName">VCLEAR</p>
	<p class="arg"><b>参数：</b>VCLEAR <span class='var'>val</span></p>
	<p class="example"><b>例：</b></p>
	<div class="examplecode"><p><span class='functionWord'>VCLEAR</span> <span class='var'>v</span></p></div>
	<p class="func"><b>功能：</b></p>
	<div class="description">
		<p>清除指定的变量，数组，或者结构体。</p>
		<p>例子中的代码会清除诸如数组（v[0] v[1] 或者v[0][1]）或者结构体（v.param1，v.name）等等。</p>
	</div>
</div>
<div class="function" id="VCOPY">
	<p class="functionName">VCOPY</p>
	<p class="arg"><b>参数：</b>VCOPY <span class='var'>dest</span>,<span class='var'>src</span></p>
	<p class="example"><b>例：</b></p>
	<div class="examplecode"><p><span class='functionWord'>VCOPY</span> <span class='var'>%dest</span>,<span class='var'>%src</span></p></div>
	<p class="func"><b>功能：</b></p>
	<div class="description">
		<p>将src指定的变量，数组，或者结构体复制到dest指定的对应结构去。</p>
		<p>例子中的代码会将%src[0],%src[1]...%src.param1 %src.name等复制到%dest[0],%dest[1]...%dest.param1 %dest.name中去。</p>
	</div>
</div>
<div class="function" id="RANDOMSEED">
	<p class="functionName">RANDOMSEED</p>
	<p class="arg"><b>参数：</b>RANDOMSEED <span class='number'>num</span></p>
	<p class="example"><b>例：</b></p>
	<div class="examplecode"><p><span class='functionWord'>RANDOMSEED</span> <span class='number'>0</span></p></div>
	<p class="func"><b>功能：</b></p>
	<div class="description">
		<p>初始化随机数种子。指定0的话则每次的种子都不一样。</p>
		<p>两次都指定0以外的数话，都会生成同样的随机数列。</p>
	</div>
</div>
<h5>函数</h5>
<div class="intro">
	<p>※以下的数学函数在C语言和Lua中都是同名的，功能也类似。看到名字就知道其作用，由此不再赘述。</p>
	<p>ABS(x) ACOS(x) ASIN(x) ATAN(x) ATAN2(y,x) CEIL(x) COS(x)</p>
	<p>COSH(x) DEG(rad) EXP(x) FLOOR(x) LOG(x) LOG10(x)</p>
	<p>RAD(deg) SIN(x) SINH(x) SQRT(x) TAN(x) TANH(x)</p>
	<br />
	<p>※下面解释来自BASIC以及不容易理解的函数。</p>
</div>
<div class="function" id="PI">
	<p class="functionName">PI</p>
	<p class="arg"><b>参数：</b>PI()</p>
	<p class="example"><b>例：</b></p>
	<div class="examplecode"><p></p></div>
	<p class="func"><b>功能：</b></p>
	<div class="description">
		<p>返回圆周率。</p>
	</div>
</div>
<div class="function" id="ASC">
	<p class="functionName">ASC</p>
	<p class="arg"><b>参数：</b></p>
	<p class="example"><b>例：</b>ASC(<span class='text'>chr</span>)</p>
	<div class="examplecode"><p><span class='functionWord'>ASC</span>(<span class='text'>" "</span>)</p></div>
	<p class="func"><b>功能：</b></p>
	<div class="description">
		<p>获得该字符的ASCII码。</p>
	</div>
</div>
<div class="function" id="CHR">
	<p class="functionName">CHR</p>
	<p class="arg"><b>参数：</b>CHR(<span class='number'>chrcode</span>)</p>
	<p class="example"><b>例：</b></p>
	<div class="examplecode"><p><span class='functionWord'>CHR</span>(<span class='number'>13</span>)</p></div>
	<p class="func"><b>功能：</b></p>
	<div class="description">
		<p>由ASCII码获得字符。</p>
	</div>
</div>
<div class="function" id="">
	<p class="functionName"></p>
	<p class="arg"><b>参数：</b></p>
	<p class="example"><b>例：</b></p>
	<div class="examplecode"><p></p></div>
	<p class="func"><b>功能：</b></p>
	<div class="description">
		<p></p>
	</div>
</div>
<div class="function" id="">
	<p class="functionName"></p>
	<p class="arg"><b>参数：</b></p>
	<p class="example"><b>例：</b></p>
	<div class="examplecode"><p></p></div>
	<p class="func"><b>功能：</b></p>
	<div class="description">
		<p></p>
	</div>
</div>
<div class="function" id="">
	<p class="functionName"></p>
	<p class="arg"><b>参数：</b></p>
	<p class="example"><b>例：</b></p>
	<div class="examplecode"><p></p></div>
	<p class="func"><b>功能：</b></p>
	<div class="description">
		<p></p>
	</div>
</div>
<div class="function" id="">
	<p class="functionName"></p>
	<p class="arg"><b>参数：</b></p>
	<p class="example"><b>例：</b></p>
	<div class="examplecode"><p></p></div>
	<p class="func"><b>功能：</b></p>
	<div class="description">
		<p></p>
	</div>
</div>
<div class="function" id="">
	<p class="functionName"></p>
	<p class="arg"><b>参数：</b></p>
	<p class="example"><b>例：</b></p>
	<div class="examplecode"><p></p></div>
	<p class="func"><b>功能：</b></p>
	<div class="description">
		<p></p>
	</div>
</div>
<div class="function" id="">
	<p class="functionName"></p>
	<p class="arg"><b>参数：</b></p>
	<p class="example"><b>例：</b></p>
	<div class="examplecode"><p></p></div>
	<p class="func"><b>功能：</b></p>
	<div class="description">
		<p></p>
	</div>
</div>
<div class="function" id="">
	<p class="functionName"></p>
	<p class="arg"><b>参数：</b></p>
	<p class="example"><b>例：</b></p>
	<div class="examplecode"><p></p></div>
	<p class="func"><b>功能：</b></p>
	<div class="description">
		<p></p>
	</div>
</div>
<div class="function" id="">
	<p class="functionName"></p>
	<p class="arg"><b>参数：</b></p>
	<p class="example"><b>例：</b></p>
	<div class="examplecode"><p></p></div>
	<p class="func"><b>功能：</b></p>
	<div class="description">
		<p></p>
	</div>
</div>
<div class="function" id="">
	<p class="functionName"></p>
	<p class="arg"><b>参数：</b></p>
	<p class="example"><b>例：</b></p>
	<div class="examplecode"><p></p></div>
	<p class="func"><b>功能：</b></p>
	<div class="description">
		<p></p>
	</div>
</div>
<div class="function" id="">
	<p class="functionName"></p>
	<p class="arg"><b>参数：</b></p>
	<p class="example"><b>例：</b></p>
	<div class="examplecode"><p></p></div>
	<p class="func"><b>功能：</b></p>
	<div class="description">
		<p></p>
	</div>
</div>
<div class="function" id="">
	<p class="functionName"></p>
	<p class="arg"><b>参数：</b></p>
	<p class="example"><b>例：</b></p>
	<div class="examplecode"><p></p></div>
	<p class="func"><b>功能：</b></p>
	<div class="description">
		<p></p>
	</div>
</div>
<div class="function" id="">
	<p class="functionName"></p>
	<p class="arg"><b>参数：</b></p>
	<p class="example"><b>例：</b></p>
	<div class="examplecode"><p></p></div>
	<p class="func"><b>功能：</b></p>
	<div class="description">
		<p></p>
	</div>
</div>
<div class="function" id="">
	<p class="functionName"></p>
	<p class="arg"><b>参数：</b></p>
	<p class="example"><b>例：</b></p>
	<div class="examplecode"><p></p></div>
	<p class="func"><b>功能：</b></p>
	<div class="description">
		<p></p>
	</div>
</div>
<div class="function" id="">
	<p class="functionName"></p>
	<p class="arg"><b>参数：</b></p>
	<p class="example"><b>例：</b></p>
	<div class="examplecode"><p></p></div>
	<p class="func"><b>功能：</b></p>
	<div class="description">
		<p></p>
	</div>
</div>
<div class="function" id="">
	<p class="functionName"></p>
	<p class="arg"><b>参数：</b></p>
	<p class="example"><b>例：</b></p>
	<div class="examplecode"><p></p></div>
	<p class="func"><b>功能：</b></p>
	<div class="description">
		<p></p>
	</div>
</div>
<div class="function" id="">
	<p class="functionName"></p>
	<p class="arg"><b>参数：</b></p>
	<p class="example"><b>例：</b></p>
	<div class="examplecode"><p></p></div>
	<p class="func"><b>功能：</b></p>
	<div class="description">
		<p></p>
	</div>
</div>
<div class="function" id="">
	<p class="functionName"></p>
	<p class="arg"><b>参数：</b></p>
	<p class="example"><b>例：</b></p>
	<div class="examplecode"><p></p></div>
	<p class="func"><b>功能：</b></p>
	<div class="description">
		<p></p>
	</div>
</div>
<div class="function" id="">
	<p class="functionName"></p>
	<p class="arg"><b>参数：</b></p>
	<p class="example"><b>例：</b></p>
	<div class="examplecode"><p></p></div>
	<p class="func"><b>功能：</b></p>
	<div class="description">
		<p></p>
	</div>
</div>
<div class="function" id="">
	<p class="functionName"></p>
	<p class="arg"><b>参数：</b></p>
	<p class="example"><b>例：</b></p>
	<div class="examplecode"><p></p></div>
	<p class="func"><b>功能：</b></p>
	<div class="description">
		<p></p>
	</div>
</div>
<div class="function" id="">
	<p class="functionName"></p>
	<p class="arg"><b>参数：</b></p>
	<p class="example"><b>例：</b></p>
	<div class="examplecode"><p></p></div>
	<p class="func"><b>功能：</b></p>
	<div class="description">
		<p></p>
	</div>
</div>
<div class="function" id="">
	<p class="functionName"></p>
	<p class="arg"><b>参数：</b></p>
	<p class="example"><b>例：</b></p>
	<div class="examplecode"><p></p></div>
	<p class="func"><b>功能：</b></p>
	<div class="description">
		<p></p>
	</div>
</div>
<div class="function" id="">
	<p class="functionName"></p>
	<p class="arg"><b>参数：</b></p>
	<p class="example"><b>例：</b></p>
	<div class="examplecode"><p></p></div>
	<p class="func"><b>功能：</b></p>
	<div class="description">
		<p></p>
	</div>
</div>
<div class="function" id="">
	<p class="functionName"></p>
	<p class="arg"><b>参数：</b></p>
	<p class="example"><b>例：</b></p>
	<div class="examplecode"><p></p></div>
	<p class="func"><b>功能：</b></p>
	<div class="description">
		<p></p>
	</div>
</div>
<div class="function" id="">
	<p class="functionName"></p>
	<p class="arg"><b>参数：</b></p>
	<p class="example"><b>例：</b></p>
	<div class="examplecode"><p></p></div>
	<p class="func"><b>功能：</b></p>
	<div class="description">
		<p></p>
	</div>
</div>
<div class="function" id="">
	<p class="functionName"></p>
	<p class="arg"><b>参数：</b></p>
	<p class="example"><b>例：</b></p>
	<div class="examplecode"><p></p></div>
	<p class="func"><b>功能：</b></p>
	<div class="description">
		<p></p>
	</div>
</div>
<div class="function" id="">
	<p class="functionName"></p>
	<p class="arg"><b>参数：</b></p>
	<p class="example"><b>例：</b></p>
	<div class="examplecode"><p></p></div>
	<p class="func"><b>功能：</b></p>
	<div class="description">
		<p></p>
	</div>
</div>
<div class="function" id="">
	<p class="functionName"></p>
	<p class="arg"><b>参数：</b></p>
	<p class="example"><b>例：</b></p>
	<div class="examplecode"><p></p></div>
	<p class="func"><b>功能：</b></p>
	<div class="description">
		<p></p>
	</div>
</div>

</div>
</body>

</html>